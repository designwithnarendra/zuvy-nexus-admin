(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8848],{285:(e,s,t)=>{"use strict";t.d(s,{$:()=>d,r:()=>o});var i=t(5155),a=t(2115),n=t(9708),r=t(2085),l=t(9434);let o=(0,r.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-12 px-4",sm:"h-9 rounded-md px-3",lg:"h-14 rounded-md px-8",icon:"h-12 w-12"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,s)=>{let{className:t,variant:a,size:r,asChild:d=!1,...c}=e,u=d?n.DX:"button";return(0,i.jsx)(u,{className:(0,l.cn)(o({variant:a,size:r,className:t})),ref:s,...c})});d.displayName="Button"},968:(e,s,t)=>{"use strict";t.d(s,{b:()=>l});var i=t(2115),a=t(3655),n=t(5155),r=i.forwardRef((e,s)=>(0,n.jsx)(a.sG.label,{...e,ref:s,onMouseDown:s=>{var t;s.target.closest("button, input, select, textarea")||(null==(t=e.onMouseDown)||t.call(e,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));r.displayName="Label";var l=r},1275:(e,s,t)=>{"use strict";t.d(s,{X:()=>n});var i=t(2115),a=t(2712);function n(e){let[s,t]=i.useState(void 0);return(0,a.N)(()=>{if(e){t({width:e.offsetWidth,height:e.offsetHeight});let s=new ResizeObserver(s=>{let i,a;if(!Array.isArray(s)||!s.length)return;let n=s[0];if("borderBoxSize"in n){let e=n.borderBoxSize,s=Array.isArray(e)?e[0]:e;i=s.inlineSize,a=s.blockSize}else i=e.offsetWidth,a=e.offsetHeight;t({width:i,height:a})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}t(void 0)},[e]),s}},2523:(e,s,t)=>{"use strict";t.d(s,{p:()=>r});var i=t(5155),a=t(2115),n=t(9434);let r=a.forwardRef((e,s)=>{let{className:t,type:a,...r}=e;return(0,i.jsx)("input",{type:a,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-card px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...r})});r.displayName="Input"},2525:(e,s,t)=>{"use strict";t.d(s,{A:()=>i});let i=(0,t(9946).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},3717:(e,s,t)=>{"use strict";t.d(s,{A:()=>i});let i=(0,t(9946).A)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},4119:(e,s,t)=>{"use strict";t.d(s,{A7:()=>a,ce:()=>i,dX:()=>n,rB:()=>r});let i=[{id:"1",name:"User/Role Management",description:"Manage users and their roles within the platform",category:"User Management"},{id:"2",name:"Create/Edit Roles & Permissions",description:"Create new roles and modify existing role permissions",category:"User Management"},{id:"3",name:"Assign/Revoke Roles",description:"Assign or revoke roles from users",category:"User Management"},{id:"4",name:"Access Review Reminders",description:"Set up and manage access review reminders",category:"Operations"},{id:"5",name:"Create & Schedule Assessments",description:"Create and schedule assessments for courses",category:"Content Management"},{id:"6",name:"View Analytics (Class Response)",description:"View class response analytics and student engagement metrics",category:"Analytics"},{id:"7",name:"Create/Edit Quizzes",description:"Create and edit quiz content",category:"Content Management"},{id:"8",name:"View Individual student grades",description:"View and access individual student grades and performance",category:"Analytics"},{id:"9",name:"Delete/Publish Courses",description:"Delete or publish course content",category:"Content Management"},{id:"10",name:"View Assigned Courses Only",description:"View only courses assigned to the user",category:"Content Management"},{id:"11",name:"Instructor Analytics",description:"View instructor-specific analytics and performance metrics",category:"Analytics"},{id:"12",name:"Student Onboarding",description:"Manage student onboarding processes and workflows",category:"Operations"},{id:"13",name:"Request Technical Support (Self)",description:"Request technical support for platform issues",category:"Support"}],a=[{id:"1",name:"Admin",description:"Users who have full access to all functions of the platform",permissions:[],isSystem:!0,color:"#f97316"},{id:"2",name:"Ops",description:"Users who see day to day operations of the courses for Zuvy",permissions:[],isSystem:!0,color:"#3b82f6"},{id:"3",name:"Instructor",description:"Users who teach the live classes in the courses and check submissions",permissions:[],isSystem:!0,color:"#10b981"}],n=[...i.map(e=>({roleId:"1",actionId:e.id,allowed:!0,scopeType:"full"})),{roleId:"2",actionId:"5",allowed:!0,scopeType:"full"},{roleId:"2",actionId:"6",allowed:!0,scopeType:"full"},{roleId:"2",actionId:"7",allowed:!0,scopeType:"full"},{roleId:"2",actionId:"8",allowed:!0,scopeType:"full"},{roleId:"2",actionId:"10",allowed:!0,scopeType:"full"},{roleId:"2",actionId:"12",allowed:!0,scopeType:"full"},{roleId:"2",actionId:"13",allowed:!0,scopeType:"full"},{roleId:"3",actionId:"5",allowed:!0,scopeType:"full"},{roleId:"3",actionId:"6",allowed:!0,scopeType:"full"},{roleId:"3",actionId:"7",allowed:!0,scopeType:"full"},{roleId:"3",actionId:"8",allowed:!0,scopeType:"full"},{roleId:"3",actionId:"10",allowed:!0,scopeType:"full"},{roleId:"3",actionId:"11",allowed:!0,scopeType:"full"},{roleId:"3",actionId:"13",allowed:!0,scopeType:"full"}],r=[{id:"1",name:"Sarah Johnson",email:"sarah.johnson@zuvy.org",role:"Admin",dateAdded:"2024-01-20T14:15:00Z",status:"active"},{id:"2",name:"Mike Chen",email:"mike.chen@zuvy.org",role:"Ops",dateAdded:"2024-02-01T09:00:00Z",status:"active"},{id:"3",name:"Emily Davis",email:"emily.davis@zuvy.org",role:"Ops",dateAdded:"2024-02-05T11:30:00Z",status:"active"},{id:"4",name:"Alex Rodriguez",email:"alex.rodriguez@zuvy.org",role:"Instructor",dateAdded:"2024-02-10T16:45:00Z",status:"active"},{id:"5",name:"Lisa Park",email:"lisa.park@zuvy.org",role:"Instructor",dateAdded:"2024-02-15T13:20:00Z",status:"active"},{id:"6",name:"David Wilson",email:"david.wilson@zuvy.org",role:"Instructor",dateAdded:"2024-02-20T10:00:00Z",status:"active"},{id:"7",name:"Anna Thompson",email:"anna.thompson@zuvy.org",role:"Ops",dateAdded:"2024-02-25T15:30:00Z",status:"active"}]},4165:(e,s,t)=>{"use strict";t.d(s,{Cf:()=>m,Es:()=>h,L3:()=>x,c7:()=>p,lG:()=>o,rr:()=>f,zM:()=>d});var i=t(5155),a=t(2115),n=t(5452),r=t(4416),l=t(9434);let o=n.bL,d=n.l9,c=n.ZL;n.bm;let u=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,i.jsx)(n.hJ,{ref:s,className:(0,l.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...a})});u.displayName=n.hJ.displayName;let m=a.forwardRef((e,s)=>{let{className:t,children:a,...o}=e;return(0,i.jsxs)(c,{children:[(0,i.jsx)(u,{}),(0,i.jsxs)(n.UC,{ref:s,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...o,children:[a,(0,i.jsxs)(n.bm,{className:"absolute right-4 top-6 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,i.jsx)(r.A,{className:"h-4 w-4"}),(0,i.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});m.displayName=n.UC.displayName;let p=e=>{let{className:s,...t}=e;return(0,i.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-1.5 text-center sm:text-left",s),...t})};p.displayName="DialogHeader";let h=e=>{let{className:s,...t}=e;return(0,i.jsx)("div",{className:(0,l.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...t})};h.displayName="DialogFooter";let x=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,i.jsx)(n.hE,{ref:s,className:(0,l.cn)("text-lg font-semibold leading-none tracking-tight",t),...a})});x.displayName=n.hE.displayName;let f=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,i.jsx)(n.VY,{ref:s,className:(0,l.cn)("text-sm text-muted-foreground",t),...a})});f.displayName=n.VY.displayName},4616:(e,s,t)=>{"use strict";t.d(s,{A:()=>i});let i=(0,t(9946).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},5007:(e,s,t)=>{"use strict";t.d(s,{default:()=>y});var i=t(5155),a=t(2115),n=t(4119),r=t(6671),l=t(285),o=t(7262),d=t(4165),c=t(2523),u=t(5057),m=t(8539),p=t(4616),h=t(381),x=t(3717),f=t(2525),v=t(7580),g=t(9434);let y=()=>{var e;let[s,t]=(0,a.useState)(n.A7),[y,j]=(0,a.useState)(n.ce),[b,N]=(0,a.useState)(n.dX),[w,C]=(0,a.useState)(!1),[k,A]=(0,a.useState)(!1),[R,S]=(0,a.useState)(!1),[I,E]=(0,a.useState)(!1),[T,z]=(0,a.useState)(!1),[P,D]=(0,a.useState)(!1),[M,$]=(0,a.useState)(!1),[O,L]=(0,a.useState)(""),[F,_]=(0,a.useState)(""),[J,G]=(0,a.useState)(""),[V,Z]=(0,a.useState)(""),[U,H]=(0,a.useState)(""),[q,X]=(0,a.useState)(""),[B,W]=(0,a.useState)(""),[Y,Q]=(0,a.useState)(""),[K,ee]=(0,a.useState)(""),[es,et]=(0,a.useState)(""),[ei,ea]=(0,a.useState)(null),[en,er]=(0,a.useState)(null),[el,eo]=(0,a.useState)((null==(e=s[0])?void 0:e.id)||""),[ed,ec]=(0,a.useState)(""),eu=s.find(e=>e.id===el),em=y.find(e=>e.id===ed),ep=y.filter(e=>b.some(s=>s.roleId===el&&s.actionId===e.id&&s.allowed)),[eh,ex]=(0,a.useState)({}),ef=eh[ed]||[],ev=["#6366f1","#8b5cf6","#06b6d4","#10b981","#f59e0b","#ef4444","#ec4899","#84cc16"],eg=(e,s)=>{ea(e),"role"===s?(X(e.name),E(!0)):"action"===s?(W(e.name),Q(e.description),z(!0)):"permission"===s&&(ee(e.name),et(e.description),D(!0))},ey=(e,s)=>{er({...e,type:s}),$(!0)};return(0,a.useEffect)(()=>{ep.length>0&&!ed&&ec(ep[0].id)},[ep,ed]),(0,i.jsxs)("div",{className:"w-full",children:[(0,i.jsxs)("div",{className:"sticky top-0 z-10 bg-background space-y-6 pb-6",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{className:"text-xl font-semibold tracking-tight",children:"Manage Role Functions"}),(0,i.jsx)("p",{className:"text-muted-foreground",children:"Configure role permissions and manage system actions"})]}),(0,i.jsxs)(l.$,{onClick:()=>C(!0),children:[(0,i.jsx)(p.A,{className:"h-4 w-4 mr-2"}),"Add New Role"]})]}),(0,i.jsx)("div",{className:"border-b",children:(0,i.jsx)("div",{className:"flex space-x-8",children:s.map(e=>(0,i.jsx)("button",{onClick:()=>{eo(e.id),ec("")},className:(0,g.cn)("py-2 px-1 border-b-2 font-medium text-sm transition-colors",el===e.id?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground hover:border-gray-300"),children:(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.color||"#6366f1"}}),(0,i.jsx)("span",{children:e.name})]})},e.id))})})]}),(0,i.jsx)("div",{className:"mt-6",children:0!==ep.length||n.A7.some(e=>e.id===el)?(0,i.jsxs)("div",{className:"flex gap-6 h-[calc(100vh-280px)]",children:[(0,i.jsxs)("div",{className:"w-[30%] space-y-4 overflow-y-auto pr-2",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsx)("h6",{className:"text-base font-semibold text-muted-foreground",children:null==eu?void 0:eu.name}),(0,i.jsxs)("div",{className:"flex gap-1",children:[(0,i.jsx)(l.$,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0",onClick:()=>eg(eu,"role"),children:(0,i.jsx)(x.A,{className:"h-3 w-3"})}),(0,i.jsx)(l.$,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 hover:bg-destructive-light hover:text-destructive",onClick:()=>ey(eu,"role"),children:(0,i.jsx)(f.A,{className:"h-3 w-3"})})]})]}),(0,i.jsx)("div",{className:"flex items-center justify-between",children:(0,i.jsx)("h6",{className:"text-base font-semibold",children:"Role Actions"})}),(0,i.jsxs)("div",{className:"space-y-2",children:[ep.map((e,s)=>(0,i.jsxs)("div",{className:"group relative",children:[(0,i.jsxs)("button",{onClick:()=>ec(e.id),className:(0,g.cn)("w-full text-left p-3 rounded-lg border transition-colors",ed===e.id?"bg-primary text-primary-foreground border-primary":"hover:bg-muted border-border"),children:[(0,i.jsx)("div",{className:"font-medium",children:e.name}),(0,i.jsx)("div",{className:"text-xs opacity-75 mt-1",children:e.description})]}),(0,i.jsxs)("div",{className:"absolute top-1/2 -translate-y-1/2 right-2 opacity-0 group-hover:opacity-100 transition-opacity flex gap-1",children:[(0,i.jsx)(l.$,{size:"sm",variant:"ghost",className:(0,g.cn)("h-8 w-8 p-0",ed===e.id&&"text-white hover:text-white"),onClick:s=>{s.stopPropagation(),eg(e,"action")},children:(0,i.jsx)(x.A,{className:"h-3 w-3"})}),(0,i.jsx)(l.$,{size:"sm",variant:"ghost",className:(0,g.cn)("h-8 w-8 p-0 hover:bg-destructive-light",ed===e.id?"text-white hover:text-destructive":"hover:text-destructive"),onClick:s=>{s.stopPropagation(),ey(e,"action")},children:(0,i.jsx)(f.A,{className:"h-3 w-3"})})]})]},e.id)),(0,i.jsxs)(l.$,{variant:"outline",className:"w-full mt-4",onClick:()=>A(!0),children:[(0,i.jsx)(p.A,{className:"h-4 w-4 mr-2"}),"Add Role Action"]})]})]}),(0,i.jsx)("div",{className:"flex-1 overflow-y-auto pl-2",children:em?(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("h6",{className:"text-base font-semibold",children:["Permissions for ",em.name]}),(0,i.jsx)("p",{className:"text-sm text-muted-foreground",children:em.description})]}),(0,i.jsxs)(l.$,{size:"sm",variant:"outline",onClick:()=>S(!0),children:[(0,i.jsx)(p.A,{className:"h-4 w-4 mr-2"}),"Add Permission"]})]}),0===ef.length?(0,i.jsxs)("div",{className:"text-center py-12 text-muted-foreground",children:[(0,i.jsx)(v.A,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),(0,i.jsx)("p",{className:"text-lg font-medium",children:"No permissions yet"}),(0,i.jsx)("p",{className:"text-sm",children:"Add your first permission for this role action"})]}):(0,i.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:ef.map(e=>(0,i.jsxs)("div",{className:"group relative p-4 border rounded-lg hover:shadow-md transition-all cursor-pointer",onClick:()=>{ex(s=>({...s,[ed]:(s[ed]||[]).map(s=>s.id===e.id?{...s,enabled:!s.enabled}:s)}))},children:[(0,i.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,i.jsx)(o.S,{checked:e.enabled,onCheckedChange:s=>{ex(t=>({...t,[ed]:(t[ed]||[]).map(t=>t.id===e.id?{...t,enabled:!!s}:t)}))}}),(0,i.jsxs)("div",{className:"flex-1",children:[(0,i.jsx)("div",{className:"font-medium",children:e.name}),(0,i.jsx)("div",{className:"text-sm text-muted-foreground",children:e.description})]})]}),(0,i.jsxs)("div",{className:"absolute top-1/2 -translate-y-1/2 right-2 opacity-0 group-hover:opacity-100 transition-opacity flex gap-1",children:[(0,i.jsx)(l.$,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0",onClick:s=>{s.stopPropagation(),eg(e,"permission")},children:(0,i.jsx)(x.A,{className:"h-3 w-3"})}),(0,i.jsx)(l.$,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 hover:bg-destructive-light hover:text-destructive",onClick:s=>{s.stopPropagation(),ey(e,"permission")},children:(0,i.jsx)(f.A,{className:"h-3 w-3"})})]})]},e.id))})]}):(0,i.jsx)("div",{className:"flex items-center justify-center h-96 text-muted-foreground",children:(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)(h.A,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),(0,i.jsx)("p",{className:"text-lg font-medium mb-2",children:"No Action Selected"}),(0,i.jsx)("p",{className:"text-sm",children:"Select an action from the left panel to view and manage its permissions"})]})})})]}):(0,i.jsx)("div",{className:"flex items-center justify-center min-h-[600px]",children:(0,i.jsxs)("div",{className:"text-center text-muted-foreground",children:[(0,i.jsx)(h.A,{className:"h-16 w-16 mx-auto mb-4 opacity-50"}),(0,i.jsx)("p",{className:"text-lg font-medium mb-2",children:"Add Your First Role Action"}),(0,i.jsx)("p",{className:"text-sm mb-6",children:"Get started by adding a role action for this role"}),(0,i.jsxs)(l.$,{onClick:()=>A(!0),children:[(0,i.jsx)(p.A,{className:"h-4 w-4 mr-2"}),"Add Role Action"]})]})})}),(0,i.jsx)(d.lG,{open:w,onOpenChange:C,children:(0,i.jsxs)(d.Cf,{children:[(0,i.jsx)(d.c7,{children:(0,i.jsx)(d.L3,{children:"Add New Role"})}),(0,i.jsx)("div",{className:"space-y-4",children:(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(u.J,{htmlFor:"roleName",children:"Role Name"}),(0,i.jsx)(c.p,{id:"roleName",value:O,onChange:e=>L(e.target.value),placeholder:"Enter role name"})]})}),(0,i.jsxs)(d.Es,{children:[(0,i.jsx)(l.$,{variant:"outline",onClick:()=>C(!1),children:"Cancel"}),(0,i.jsx)(l.$,{onClick:()=>{if(!O.trim())return;let e={id:"role_".concat(Date.now()),name:O,description:"".concat(O," role"),color:ev[s.length%ev.length],permissions:[],isSystem:!1};t([...s,e]),eo(e.id),ec(""),L(""),C(!1),r.oR.success('Role "'.concat(O,'" created successfully!'))},children:"Add Role"})]})]})}),(0,i.jsx)(d.lG,{open:k,onOpenChange:A,children:(0,i.jsxs)(d.Cf,{children:[(0,i.jsx)(d.c7,{children:(0,i.jsx)(d.L3,{children:"Add Role Action"})}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(u.J,{htmlFor:"actionName",children:"Action Name"}),(0,i.jsx)(c.p,{id:"actionName",value:F,onChange:e=>_(e.target.value),placeholder:"Enter action name"})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(u.J,{htmlFor:"actionDescription",children:"Description"}),(0,i.jsx)(m.T,{id:"actionDescription",value:J,onChange:e=>G(e.target.value),placeholder:"Enter action description"})]})]}),(0,i.jsxs)(d.Es,{children:[(0,i.jsx)(l.$,{variant:"outline",onClick:()=>A(!1),children:"Cancel"}),(0,i.jsx)(l.$,{onClick:()=>{if(!F.trim()||!el)return;let e={id:"action_".concat(Date.now()),name:F,description:J||"".concat(F," action"),category:"Operations"};j([...y,e]),N([...b,{roleId:el,actionId:e.id,allowed:!0,scopeType:"full"}]),ex(s=>({...s,[e.id]:[]})),ec(e.id),_(""),G(""),A(!1),r.oR.success('Action "'.concat(F,'" added successfully!'))},children:"Add Action"})]})]})}),(0,i.jsx)(d.lG,{open:R,onOpenChange:S,children:(0,i.jsxs)(d.Cf,{children:[(0,i.jsx)(d.c7,{children:(0,i.jsx)(d.L3,{children:"Add Permission"})}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(u.J,{htmlFor:"permissionName",children:"Permission Name"}),(0,i.jsx)(c.p,{id:"permissionName",value:V,onChange:e=>Z(e.target.value),placeholder:"Enter permission name"})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(u.J,{htmlFor:"permissionDescription",children:"Permission Description"}),(0,i.jsx)(m.T,{id:"permissionDescription",value:U,onChange:e=>H(e.target.value),placeholder:"Enter permission description"})]})]}),(0,i.jsxs)(d.Es,{children:[(0,i.jsx)(l.$,{variant:"outline",onClick:()=>S(!1),children:"Cancel"}),(0,i.jsx)(l.$,{onClick:()=>{if(!V.trim()||!ed)return;let e={id:"permission_".concat(Date.now()),name:V,description:U||"".concat(V," permission"),enabled:!1};ex(s=>({...s,[ed]:[...s[ed]||[],e]})),Z(""),H(""),S(!1),r.oR.success('Permission "'.concat(V,'" added successfully!'))},children:"Add Permission"})]})]})}),(0,i.jsx)(d.lG,{open:I,onOpenChange:E,children:(0,i.jsxs)(d.Cf,{children:[(0,i.jsx)(d.c7,{children:(0,i.jsx)(d.L3,{children:"Edit Role"})}),(0,i.jsx)("div",{className:"space-y-4",children:(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(u.J,{htmlFor:"editRoleName",children:"Role Name"}),(0,i.jsx)(c.p,{id:"editRoleName",value:q,onChange:e=>X(e.target.value),placeholder:"Enter role name"})]})}),(0,i.jsxs)(d.Es,{children:[(0,i.jsx)(l.$,{variant:"outline",onClick:()=>E(!1),children:"Cancel"}),(0,i.jsx)(l.$,{onClick:()=>{q.trim()&&ei&&(t(e=>e.map(e=>e.id===ei.id?{...e,name:q}:e)),X(""),ea(null),E(!1),r.oR.success('Role "'.concat(q,'" updated successfully!')))},children:"Save Changes"})]})]})}),(0,i.jsx)(d.lG,{open:T,onOpenChange:z,children:(0,i.jsxs)(d.Cf,{children:[(0,i.jsx)(d.c7,{children:(0,i.jsx)(d.L3,{children:"Edit Role Action"})}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(u.J,{htmlFor:"editActionName",children:"Action Name"}),(0,i.jsx)(c.p,{id:"editActionName",value:B,onChange:e=>W(e.target.value),placeholder:"Enter action name"})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(u.J,{htmlFor:"editActionDescription",children:"Description"}),(0,i.jsx)(m.T,{id:"editActionDescription",value:Y,onChange:e=>Q(e.target.value),placeholder:"Enter action description"})]})]}),(0,i.jsxs)(d.Es,{children:[(0,i.jsx)(l.$,{variant:"outline",onClick:()=>z(!1),children:"Cancel"}),(0,i.jsx)(l.$,{onClick:()=>{B.trim()&&ei&&(j(e=>e.map(e=>e.id===ei.id?{...e,name:B,description:Y}:e)),W(""),Q(""),ea(null),z(!1),r.oR.success('Action "'.concat(B,'" updated successfully!')))},children:"Save Changes"})]})]})}),(0,i.jsx)(d.lG,{open:P,onOpenChange:D,children:(0,i.jsxs)(d.Cf,{children:[(0,i.jsx)(d.c7,{children:(0,i.jsx)(d.L3,{children:"Edit Permission"})}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(u.J,{htmlFor:"editPermissionName",children:"Permission Name"}),(0,i.jsx)(c.p,{id:"editPermissionName",value:K,onChange:e=>ee(e.target.value),placeholder:"Enter permission name"})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(u.J,{htmlFor:"editPermissionDescription",children:"Permission Description"}),(0,i.jsx)(m.T,{id:"editPermissionDescription",value:es,onChange:e=>et(e.target.value),placeholder:"Enter permission description"})]})]}),(0,i.jsxs)(d.Es,{children:[(0,i.jsx)(l.$,{variant:"outline",onClick:()=>D(!1),children:"Cancel"}),(0,i.jsx)(l.$,{onClick:()=>{K.trim()&&ei&&ed&&(ex(e=>({...e,[ed]:(e[ed]||[]).map(e=>e.id===ei.id?{...e,name:K,description:es}:e)})),ee(""),et(""),ea(null),D(!1),r.oR.success('Permission "'.concat(K,'" updated successfully!')))},children:"Save Changes"})]})]})}),(0,i.jsx)(d.lG,{open:M,onOpenChange:$,children:(0,i.jsxs)(d.Cf,{children:[(0,i.jsx)(d.c7,{children:(0,i.jsx)(d.L3,{children:"Confirm Delete"})}),(0,i.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Are you sure you want to delete the ",null==en?void 0:en.type,' "',null==en?void 0:en.name,'"? This action cannot be undone.']}),(0,i.jsxs)(d.Es,{className:"justify-end gap-2",children:[(0,i.jsx)(l.$,{variant:"outline",onClick:()=>$(!1),children:"Cancel"}),(0,i.jsxs)(l.$,{variant:"destructive",onClick:()=>{if(en){if("permission"===en.type)ex(e=>({...e,[ed]:(e[ed]||[]).filter(e=>e.id!==en.id)})),r.oR.success('Permission "'.concat(en.name,'" deleted successfully!'));else if("action"===en.type)j(e=>e.filter(e=>e.id!==en.id)),N(e=>e.filter(e=>e.actionId!==en.id)),ex(e=>{let s={...e};return delete s[en.id],s}),ed===en.id&&ec(""),r.oR.success('Action "'.concat(en.name,'" deleted successfully!'));else if("role"===en.type){if(t(e=>e.filter(e=>e.id!==en.id)),N(e=>e.filter(e=>e.roleId!==en.id)),el===en.id){let e=s.filter(e=>e.id!==en.id);e.length>0&&(eo(e[0].id),ec(""))}r.oR.success('Role "'.concat(en.name,'" deleted successfully!'))}er(null),$(!1)}},children:[(0,i.jsx)(f.A,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})})]})}},5057:(e,s,t)=>{"use strict";t.d(s,{J:()=>d});var i=t(5155),a=t(2115),n=t(968),r=t(2085),l=t(9434);let o=(0,r.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,i.jsx)(n.b,{ref:s,className:(0,l.cn)(o(),t),...a})});d.displayName=n.b.displayName},5196:(e,s,t)=>{"use strict";t.d(s,{A:()=>i});let i=(0,t(9946).A)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},5503:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});var i=t(2115);function a(e){let s=i.useRef({value:e,previous:e});return i.useMemo(()=>(s.current.value!==e&&(s.current.previous=s.current.value,s.current.value=e),s.current.previous),[e])}},6981:(e,s,t)=>{"use strict";t.d(s,{C1:()=>w,bL:()=>b});var i=t(2115),a=t(6101),n=t(6081),r=t(5185),l=t(5845),o=t(5503),d=t(1275),c=t(8905),u=t(3655),m=t(5155),p="Checkbox",[h,x]=(0,n.A)(p),[f,v]=h(p);function g(e){let{__scopeCheckbox:s,checked:t,children:a,defaultChecked:n,disabled:r,form:o,name:d,onCheckedChange:c,required:u,value:h="on",internal_do_not_use_render:x}=e,[v,g]=(0,l.i)({prop:t,defaultProp:null!=n&&n,onChange:c,caller:p}),[y,j]=i.useState(null),[b,N]=i.useState(null),w=i.useRef(!1),C=!y||!!o||!!y.closest("form"),k={checked:v,disabled:r,setChecked:g,control:y,setControl:j,name:d,form:o,value:h,hasConsumerStoppedPropagationRef:w,required:u,defaultChecked:!A(n)&&n,isFormControl:C,bubbleInput:b,setBubbleInput:N};return(0,m.jsx)(f,{scope:s,...k,children:"function"==typeof x?x(k):a})}var y="CheckboxTrigger",j=i.forwardRef((e,s)=>{let{__scopeCheckbox:t,onKeyDown:n,onClick:l,...o}=e,{control:d,value:c,disabled:p,checked:h,required:x,setControl:f,setChecked:g,hasConsumerStoppedPropagationRef:j,isFormControl:b,bubbleInput:N}=v(y,t),w=(0,a.s)(s,f),C=i.useRef(h);return i.useEffect(()=>{let e=null==d?void 0:d.form;if(e){let s=()=>g(C.current);return e.addEventListener("reset",s),()=>e.removeEventListener("reset",s)}},[d,g]),(0,m.jsx)(u.sG.button,{type:"button",role:"checkbox","aria-checked":A(h)?"mixed":h,"aria-required":x,"data-state":R(h),"data-disabled":p?"":void 0,disabled:p,value:c,...o,ref:w,onKeyDown:(0,r.m)(n,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,r.m)(l,e=>{g(e=>!!A(e)||!e),N&&b&&(j.current=e.isPropagationStopped(),j.current||e.stopPropagation())})})});j.displayName=y;var b=i.forwardRef((e,s)=>{let{__scopeCheckbox:t,name:i,checked:a,defaultChecked:n,required:r,disabled:l,value:o,onCheckedChange:d,form:c,...u}=e;return(0,m.jsx)(g,{__scopeCheckbox:t,checked:a,defaultChecked:n,disabled:l,required:r,onCheckedChange:d,name:i,form:c,value:o,internal_do_not_use_render:e=>{let{isFormControl:i}=e;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(j,{...u,ref:s,__scopeCheckbox:t}),i&&(0,m.jsx)(k,{__scopeCheckbox:t})]})}})});b.displayName=p;var N="CheckboxIndicator",w=i.forwardRef((e,s)=>{let{__scopeCheckbox:t,forceMount:i,...a}=e,n=v(N,t);return(0,m.jsx)(c.C,{present:i||A(n.checked)||!0===n.checked,children:(0,m.jsx)(u.sG.span,{"data-state":R(n.checked),"data-disabled":n.disabled?"":void 0,...a,ref:s,style:{pointerEvents:"none",...e.style}})})});w.displayName=N;var C="CheckboxBubbleInput",k=i.forwardRef((e,s)=>{let{__scopeCheckbox:t,...n}=e,{control:r,hasConsumerStoppedPropagationRef:l,checked:c,defaultChecked:p,required:h,disabled:x,name:f,value:g,form:y,bubbleInput:j,setBubbleInput:b}=v(C,t),N=(0,a.s)(s,b),w=(0,o.Z)(c),k=(0,d.X)(r);i.useEffect(()=>{if(!j)return;let e=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,s=!l.current;if(w!==c&&e){let t=new Event("click",{bubbles:s});j.indeterminate=A(c),e.call(j,!A(c)&&c),j.dispatchEvent(t)}},[j,w,c,l]);let R=i.useRef(!A(c)&&c);return(0,m.jsx)(u.sG.input,{type:"checkbox","aria-hidden":!0,defaultChecked:null!=p?p:R.current,required:h,disabled:x,name:f,value:g,form:y,...n,tabIndex:-1,ref:N,style:{...n.style,...k,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function A(e){return"indeterminate"===e}function R(e){return A(e)?"indeterminate":e?"checked":"unchecked"}k.displayName=C},7023:(e,s,t)=>{Promise.resolve().then(t.bind(t,5007))},7262:(e,s,t)=>{"use strict";t.d(s,{S:()=>o});var i=t(5155),a=t(2115),n=t(6981),r=t(5196),l=t(9434);let o=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,i.jsx)(n.bL,{ref:s,className:(0,l.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...a,children:(0,i.jsx)(n.C1,{className:(0,l.cn)("flex items-center justify-center text-current"),children:(0,i.jsx)(r.A,{className:"h-4 w-4"})})})});o.displayName=n.bL.displayName},7580:(e,s,t)=>{"use strict";t.d(s,{A:()=>i});let i=(0,t(9946).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},8539:(e,s,t)=>{"use strict";t.d(s,{T:()=>r});var i=t(5155),a=t(2115),n=t(9434);let r=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,i.jsx)("textarea",{className:(0,n.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-card px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...a})});r.displayName="Textarea"},9434:(e,s,t)=>{"use strict";t.d(s,{cn:()=>n});var i=t(2596),a=t(9688);function n(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,a.QP)((0,i.$)(s))}}},e=>{e.O(0,[7598,2375,5452,9083,8441,5964,7358],()=>e(e.s=7023)),_N_E=e.O()}]);