(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7816],{333:(e,s,a)=>{"use strict";a.d(s,{d:()=>n});var t=a(5155),l=a(2115),r=a(4884),i=a(9434);let n=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(r.bL,{className:(0,i.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",a),...l,ref:s,children:(0,t.jsx)(r.zi,{className:(0,i.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});n.displayName=r.bL.displayName},356:(e,s,a)=>{"use strict";a.d(s,{C:()=>d,z:()=>c});var t=a(5155),l=a(2115),r=a(4059),i=a(9428),n=a(9434);let c=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(r.bL,{className:(0,n.cn)("grid gap-2",a),...l,ref:s})});c.displayName=r.bL.displayName;let d=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(r.q7,{ref:s,className:(0,n.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),...l,children:(0,t.jsx)(r.C1,{className:"flex items-center justify-center",children:(0,t.jsx)(i.A,{className:"h-2.5 w-2.5 fill-current text-current"})})})});d.displayName=r.q7.displayName},5057:(e,s,a)=>{"use strict";a.d(s,{J:()=>d});var t=a(5155),l=a(2115),r=a(968),i=a(2085),n=a(9434);let c=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(r.b,{ref:s,className:(0,n.cn)(c(),a),...l})});d.displayName=r.b.displayName},7313:(e,s,a)=>{"use strict";a.d(s,{Xi:()=>d,av:()=>o,j7:()=>c,tU:()=>n});var t=a(5155),l=a(2115),r=a(704),i=a(9434);let n=r.bL,c=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(r.B8,{ref:s,className:(0,i.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a),...l})});c.displayName=r.B8.displayName;let d=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(r.l9,{ref:s,className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",a),...l})});d.displayName=r.l9.displayName;let o=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(r.UC,{ref:s,className:(0,i.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...l})});o.displayName=r.UC.displayName},7451:(e,s,a)=>{Promise.resolve().then(a.bind(a,9183))},8539:(e,s,a)=>{"use strict";a.d(s,{T:()=>i});var t=a(5155),l=a(2115),r=a(9434);let i=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("textarea",{className:(0,r.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-card px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:s,...l})});i.displayName="Textarea"},9183:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>eI});var t=a(5155),l=a(2115),r=a(5695),i=a(285),n=a(6126),c=a(5169),d=a(9869),o=a(7313),m=a(1284),u=a(5040),h=a(7580),x=a(5670),p=a(7434),j=a(381),f=a(2523),g=a(5057),v=a(8539),b=a(356),N=a(7213),y=a(2525),w=a(9074);let C=e=>{let{courseId:s}=e,[a,r]=(0,l.useState)({title:"Full Stack Web Development Bootcamp",description:"Learn modern web development with React, Node.js, and MongoDB. Build real-world projects and deploy them to production.",language:"English",startDate:"2024-08-15",imageUrl:"https://images.unsplash.com/photo-1461749280684-dccba630e2f6?w=800&h=400&fit=crop",collaboratorName:"",collaboratorLogo:""}),n=(e,s)=>{r(a=>({...a,[e]:s}))};return(0,t.jsxs)("div",{className:"w-full max-w-4xl mx-auto space-y-6",children:[(0,t.jsx)("h2",{className:"font-heading text-xl font-semibold",children:"General Details"}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"aspect-video w-full overflow-hidden rounded-lg border bg-muted",children:a.imageUrl?(0,t.jsx)("img",{src:a.imageUrl,alt:"Course preview",className:"h-full w-full object-cover"}):(0,t.jsx)("div",{className:"h-full w-full flex items-center justify-center bg-gradient-to-br from-primary-light to-primary",children:(0,t.jsx)(N.A,{className:"h-12 w-12 text-primary opacity-60"})})}),(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsxs)("label",{className:"cursor-pointer",children:[(0,t.jsxs)(i.$,{variant:"outline",size:"sm",className:"w-full pointer-events-none",children:[(0,t.jsx)(d.A,{className:"h-4 w-4 mr-2"}),"Upload New Image"]}),(0,t.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{var s;let a=null==(s=e.target.files)?void 0:s[0];if(a){let e=new FileReader;e.onload=e=>{r(s=>{var a;return{...s,imageUrl:null==(a=e.target)?void 0:a.result}})},e.readAsDataURL(a)}},className:"sr-only"})]}),a.imageUrl&&(0,t.jsxs)(i.$,{variant:"destructive",size:"sm",onClick:()=>{r(e=>({...e,imageUrl:""}))},className:"w-full hover:bg-red-500 hover:text-white",children:[(0,t.jsx)(y.A,{className:"h-4 w-4 mr-2"}),"Remove Image"]})]})]}),(0,t.jsxs)("div",{className:"lg:col-span-2 space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(g.J,{htmlFor:"title",className:"font-semibold",children:"Course Title"}),(0,t.jsx)(f.p,{id:"title",value:a.title,onChange:e=>n("title",e.target.value),placeholder:"Enter course title"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(g.J,{htmlFor:"description",className:"font-semibold",children:"Description"}),(0,t.jsx)(v.T,{id:"description",value:a.description,onChange:e=>n("description",e.target.value),placeholder:"Enter course description",className:"min-h-[120px]"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(g.J,{htmlFor:"startDate",className:"font-semibold",children:"Course Start Date"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(f.p,{id:"startDate",type:"date",value:a.startDate,onChange:e=>n("startDate",e.target.value),className:"cursor-pointer [&::-webkit-calendar-picker-indicator]:opacity-0 [&::-webkit-calendar-picker-indicator]:absolute [&::-webkit-calendar-picker-indicator]:right-0 [&::-webkit-calendar-picker-indicator]:w-full [&::-webkit-calendar-picker-indicator]:h-full [&::-webkit-calendar-picker-indicator]:cursor-pointer"}),(0,t.jsx)(w.A,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground pointer-events-none"})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(g.J,{className:"font-semibold",children:"Collaborator Details"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(g.J,{htmlFor:"collaboratorName",className:"text-sm",children:"Collaborator Name"}),(0,t.jsx)(f.p,{id:"collaboratorName",value:a.collaboratorName,onChange:e=>n("collaboratorName",e.target.value),placeholder:"Enter collaborator name"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(g.J,{className:"text-sm",children:"Collaborator Logo"}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[a.collaboratorLogo&&(0,t.jsx)("div",{className:"w-16 h-16 rounded-lg border bg-muted overflow-hidden",children:(0,t.jsx)("img",{src:a.collaboratorLogo,alt:"Collaborator logo",className:"w-full h-full object-contain"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("label",{className:"cursor-pointer",children:[(0,t.jsxs)(i.$,{variant:"outline",size:"sm",className:"pointer-events-none",children:[(0,t.jsx)(d.A,{className:"h-4 w-4 mr-2"}),a.collaboratorLogo?"Change Logo":"Upload Logo"]}),(0,t.jsx)("input",{type:"file",accept:".png,.svg,.jpg,.jpeg",onChange:e=>{var s;let a=null==(s=e.target.files)?void 0:s[0];if(a){let e=new FileReader;e.onload=e=>{r(s=>{var a;return{...s,collaboratorLogo:null==(a=e.target)?void 0:a.result}})},e.readAsDataURL(a)}},className:"sr-only"})]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"PNG, SVG, or JPG format. Optional."})]}),a.collaboratorLogo&&(0,t.jsx)(i.$,{variant:"destructive",size:"sm",onClick:()=>{r(e=>({...e,collaboratorLogo:""}))},children:(0,t.jsx)(y.A,{className:"h-4 w-4"})})]})]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(g.J,{className:"text-sm font-semibold",children:"Course Language"}),(0,t.jsxs)(b.z,{value:a.language,onValueChange:e=>n("language",e),className:"flex gap-6",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(b.C,{value:"English",id:"english"}),(0,t.jsx)(g.J,{htmlFor:"english",children:"English"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(b.C,{value:"Hindi",id:"hindi"}),(0,t.jsx)(g.J,{htmlFor:"hindi",children:"Hindi"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(b.C,{value:"Kannada",id:"kannada"}),(0,t.jsx)(g.J,{htmlFor:"kannada",children:"Kannada"})]})]})]})]})]}),(0,t.jsx)("div",{className:"flex justify-end pt-4 border-t",children:(0,t.jsx)(i.$,{onClick:()=>{console.log("Saving course data:",a)},className:"bg-primary hover:bg-primary-dark",children:"Save Changes"})})]})]})};var k=a(4165),S=a(6695),A=a(4616),E=a(8021),D=a(4395),F=a(3717),M=a(9434),R=a(7712);function L(e){let{value:s,onChange:a,min:l=0,max:r=100,step:n=1,disabled:c=!1,className:d,label:o,unit:m=""}=e;return(0,t.jsxs)("div",{className:(0,M.cn)("space-y-2",d),children:[o&&(0,t.jsx)("label",{className:"text-sm font-medium text-foreground",children:o}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(i.$,{type:"button",variant:"outline",size:"sm",onClick:()=>{a(Math.max(l,s-n))},disabled:c||s<=l,className:"h-10 w-10 p-0 shrink-0",children:(0,t.jsx)(R.A,{className:"h-4 w-4"})}),(0,t.jsxs)("div",{className:"flex-1 relative",children:[(0,t.jsx)(f.p,{type:"number",value:s,onChange:e=>{let s=parseInt(e.target.value,10);isNaN(s)||a(Math.max(l,Math.min(r,s)))},disabled:c,min:l,max:r,className:"text-center h-10"}),m&&(0,t.jsx)("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-sm text-muted-foreground pointer-events-none",children:m})]}),(0,t.jsx)(i.$,{type:"button",variant:"outline",size:"sm",onClick:()=>{a(Math.min(r,s+n))},disabled:c||s>=r,className:"h-10 w-10 p-0 shrink-0",children:(0,t.jsx)(A.A,{className:"h-4 w-4"})})]})]})}let B=e=>{let{courseId:s}=e,a=(0,r.useRouter)(),[c,d]=(0,l.useState)([{id:"1",type:"module",title:"Introduction to Web Development",description:"Fundamentals of HTML, CSS, and JavaScript",duration:2},{id:"2",type:"module",title:"Advanced JavaScript",description:"Deep dive into ES6+, async programming, and modern JavaScript",duration:3},{id:"3",type:"project",title:"Portfolio Website",description:"Build a responsive personal portfolio using HTML, CSS, and JavaScript",duration:1,difficulty:"Easy"},{id:"4",type:"module",title:"React Fundamentals",description:"Learn React components, state management, and hooks",duration:3},{id:"5",type:"project",title:"E-commerce Application",description:"Full-stack e-commerce app with React, Node.js, and MongoDB",duration:3,difficulty:"Hard"}]),[o,m]=(0,l.useState)(!1),[u,h]=(0,l.useState)(!1),[x,p]=(0,l.useState)(null),[j,N]=(0,l.useState)({type:"module",title:"",description:"",duration:1,difficulty:"Easy"}),[w,C]=(0,l.useState)({type:"module",title:"",description:"",duration:1,difficulty:"Easy"}),[R,B]=(0,l.useState)(null),[I,J]=(0,l.useState)(null),[z,$]=(0,l.useState)(!1),P=()=>{B(null),J(null),$(!1)};return(0,t.jsxs)("div",{className:"w-full max-w-4xl mx-auto space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h2",{className:"font-heading text-xl font-semibold",children:"Course Curriculum"}),(0,t.jsxs)(i.$,{onClick:()=>m(!0),className:"bg-primary hover:bg-primary-dark h-12",children:[(0,t.jsx)(A.A,{className:"h-4 w-4 mr-2"}),"Add Module/Project"]})]}),(0,t.jsx)("div",{className:"space-y-4",children:c.map((e,l)=>(0,t.jsx)("div",{draggable:!0,onDragStart:s=>{B(e.id),$(!0),s.dataTransfer.effectAllowed="move"},onDragEnd:P,onDragOver:e=>{e.preventDefault(),J(l)},onDrop:e=>((e,s)=>{if(e.preventDefault(),!R)return;let a=c.findIndex(e=>e.id===R);if(-1===a||a===s)return;let t=[...c],[l]=t.splice(a,1);t.splice(s,0,l),d(t),J(null)})(e,l),className:(0,M.cn)("transition-all duration-200 cursor-grab active:cursor-grabbing",R===e.id&&"opacity-50",I===l&&"border-t-2 border-primary"),children:(0,t.jsx)(S.Zp,{className:"p-4 cursor-pointer hover:shadow-md transition-shadow",onClick:()=>(e=>{let t=c.find(s=>s.id===e);t&&("module"===t.type?a.push("/courses/".concat(s,"/modules/").concat(e)):"project"===t.type&&a.push("/courses/".concat(s,"/projects/").concat(e)))})(e.id),children:(0,t.jsx)(S.Wu,{className:"p-0",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"cursor-grab hover:text-primary",onClick:e=>e.stopPropagation(),children:(0,t.jsx)(E.A,{className:"h-5 w-5"})}),(0,t.jsx)("div",{className:"text-muted-foreground",children:(0,t.jsx)(D.A,{className:"h-5 w-5"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsxs)("h3",{className:"font-medium text-lg",children:[(e=>{let s=c.slice(0,e+1).filter(e=>"module"===e.type).length,a=c.slice(0,e+1).filter(e=>"project"===e.type).length;return"module"===c[e].type?"Module ".concat(s):"Project ".concat(a)})(l),": ",e.title]}),"project"===e.type&&e.difficulty&&(0,t.jsx)(n.E,{variant:"outline",className:(e=>{switch(e){case"Easy":return"bg-success-light text-success-dark border-success";case"Medium":return"bg-warning-light text-warning-dark border-warning";case"Hard":return"bg-destructive-light text-destructive-dark border-destructive";default:return"bg-muted text-muted-foreground border-border"}})(e.difficulty),children:e.difficulty})]}),(0,t.jsx)("p",{className:"text-muted-foreground text-sm mb-2",children:e.description}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Duration: ",e.duration," ",1===e.duration?"week":"weeks"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(i.$,{variant:"ghost",size:"sm",onClick:s=>{s.stopPropagation(),(e=>{let s=c.find(s=>s.id===e);s&&(p(s),C({type:s.type,title:s.title,description:s.description,duration:s.duration,difficulty:s.difficulty||"Easy"}),h(!0))})(e.id)},className:"h-8 w-8 p-0",children:(0,t.jsx)(F.A,{className:"h-4 w-4"})}),(0,t.jsx)(i.$,{variant:"ghost",size:"sm",onClick:s=>{var a;s.stopPropagation(),a=e.id,d(e=>e.filter(e=>e.id!==a))},className:"h-8 w-8 p-0 text-destructive hover:text-destructive",children:(0,t.jsx)(y.A,{className:"h-4 w-4"})})]})]})})})},e.id))}),(0,t.jsx)(k.lG,{open:o,onOpenChange:m,children:(0,t.jsxs)(k.Cf,{className:"max-w-2xl",children:[(0,t.jsx)(k.c7,{children:(0,t.jsxs)(k.L3,{children:["Add ","module"===j.type?"Module":"Project"]})}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(g.J,{children:"Type"}),(0,t.jsxs)(b.z,{value:j.type,onValueChange:e=>N(s=>({...s,type:e})),className:"flex gap-6",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(b.C,{value:"module",id:"module"}),(0,t.jsx)(g.J,{htmlFor:"module",children:"Module"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(b.C,{value:"project",id:"project"}),(0,t.jsx)(g.J,{htmlFor:"project",children:"Project"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(g.J,{htmlFor:"title",children:["module"===j.type?"Module":"Project"," Title *"]}),(0,t.jsx)(f.p,{id:"title",value:j.title,onChange:e=>N(s=>({...s,title:e.target.value})),placeholder:"Enter ".concat(j.type," title")})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(g.J,{htmlFor:"description",children:"Description *"}),(0,t.jsx)(v.T,{id:"description",value:j.description,onChange:e=>N(s=>({...s,description:e.target.value})),placeholder:"Describe the ".concat(j.type),className:"min-h-[100px]"})]}),(0,t.jsx)("div",{className:"space-y-2",children:(0,t.jsx)(L,{label:"Duration",value:j.duration,onChange:e=>N(s=>({...s,duration:e})),min:1,max:52,unit:1===j.duration?"week":"weeks"})}),"project"===j.type&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(g.J,{children:"Difficulty Level"}),(0,t.jsxs)(b.z,{value:j.difficulty,onValueChange:e=>N(s=>({...s,difficulty:e})),className:"flex gap-6",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(b.C,{value:"Easy",id:"easy"}),(0,t.jsx)(g.J,{htmlFor:"easy",children:"Easy"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(b.C,{value:"Medium",id:"medium"}),(0,t.jsx)(g.J,{htmlFor:"medium",children:"Medium"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(b.C,{value:"Hard",id:"hard"}),(0,t.jsx)(g.J,{htmlFor:"hard",children:"Hard"})]})]})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-2 pt-4",children:[(0,t.jsx)(i.$,{variant:"outline",onClick:()=>m(!1),children:"Cancel"}),(0,t.jsxs)(i.$,{onClick:()=>{let e={id:Date.now().toString(),type:j.type,title:j.title,description:j.description,duration:j.duration,..."project"===j.type?{difficulty:j.difficulty}:{}};d(s=>[...s,e]),N({type:"module",title:"",description:"",duration:1,difficulty:"Easy"}),m(!1)},disabled:!j.title||!j.description,className:"bg-primary hover:bg-primary-dark",children:["Add ","module"===j.type?"Module":"Project"]})]})]})]})}),(0,t.jsx)(k.lG,{open:u,onOpenChange:h,children:(0,t.jsxs)(k.Cf,{className:"max-w-2xl",children:[(0,t.jsx)(k.c7,{children:(0,t.jsxs)(k.L3,{children:["Edit ","module"===w.type?"Module":"Project"]})}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(g.J,{children:"Type"}),(0,t.jsxs)(b.z,{value:w.type,onValueChange:e=>C(s=>({...s,type:e})),className:"flex gap-6",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(b.C,{value:"module",id:"edit-module"}),(0,t.jsx)(g.J,{htmlFor:"edit-module",children:"Module"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(b.C,{value:"project",id:"edit-project"}),(0,t.jsx)(g.J,{htmlFor:"edit-project",children:"Project"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(g.J,{htmlFor:"edit-title",children:["module"===w.type?"Module":"Project"," Title *"]}),(0,t.jsx)(f.p,{id:"edit-title",value:w.title,onChange:e=>C(s=>({...s,title:e.target.value})),placeholder:"Enter ".concat(w.type," title")})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(g.J,{htmlFor:"edit-description",children:"Description *"}),(0,t.jsx)(v.T,{id:"edit-description",value:w.description,onChange:e=>C(s=>({...s,description:e.target.value})),placeholder:"Describe the ".concat(w.type),className:"min-h-[100px]"})]}),(0,t.jsx)("div",{className:"space-y-2",children:(0,t.jsx)(L,{label:"Duration",value:w.duration,onChange:e=>C(s=>({...s,duration:e})),min:1,max:52,unit:1===w.duration?"week":"weeks"})}),"project"===w.type&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(g.J,{children:"Difficulty Level"}),(0,t.jsxs)(b.z,{value:w.difficulty,onValueChange:e=>C(s=>({...s,difficulty:e})),className:"flex gap-6",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(b.C,{value:"Easy",id:"edit-easy"}),(0,t.jsx)(g.J,{htmlFor:"edit-easy",children:"Easy"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(b.C,{value:"Medium",id:"edit-medium"}),(0,t.jsx)(g.J,{htmlFor:"edit-medium",children:"Medium"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(b.C,{value:"Hard",id:"edit-hard"}),(0,t.jsx)(g.J,{htmlFor:"edit-hard",children:"Hard"})]})]})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-2 pt-4",children:[(0,t.jsx)(i.$,{variant:"outline",onClick:()=>{h(!1),p(null),C({type:"module",title:"",description:"",duration:1,difficulty:"Easy"})},children:"Cancel"}),(0,t.jsxs)(i.$,{onClick:()=>{if(!x)return;let e={...x,type:w.type,title:w.title,description:w.description,duration:w.duration,..."project"===w.type?{difficulty:w.difficulty}:{}};d(s=>s.map(s=>s.id===x.id?e:s)),h(!1),p(null),"project"===e.type&&a.push("/courses/".concat(s,"/projects/").concat(e.id))},disabled:!w.title||!w.description,className:"bg-primary hover:bg-primary-dark",children:["Update ","module"===w.type?"Module":"Project"]})]})]})]})})]})};var I=a(9409),J=a(7924),z=a(2318),$=a(4261),P=a(5494),T=a(1041),U=a(927),O=a(2177),V=a(221),G=a(9708);let q=O.Op,W=l.createContext({}),H=e=>{let{...s}=e;return(0,t.jsx)(W.Provider,{value:{name:s.name},children:(0,t.jsx)(O.xI,{...s})})},X=()=>{let e=l.useContext(W),s=l.useContext(_),{getFieldState:a,formState:t}=(0,O.xW)(),r=a(e.name,t);if(!e)throw Error("useFormField should be used within <FormField>");let{id:i}=s;return{id:i,name:e.name,formItemId:"".concat(i,"-form-item"),formDescriptionId:"".concat(i,"-form-item-description"),formMessageId:"".concat(i,"-form-item-message"),...r}},_=l.createContext({}),Y=l.forwardRef((e,s)=>{let{className:a,...r}=e,i=l.useId();return(0,t.jsx)(_.Provider,{value:{id:i},children:(0,t.jsx)("div",{ref:s,className:(0,M.cn)("space-y-2",a),...r})})});Y.displayName="FormItem";let Z=l.forwardRef((e,s)=>{let{className:a,...l}=e,{error:r,formItemId:i}=X();return(0,t.jsx)(g.J,{ref:s,className:(0,M.cn)(r&&"text-destructive",a),htmlFor:i,...l})});Z.displayName="FormLabel";let K=l.forwardRef((e,s)=>{let{...a}=e,{error:l,formItemId:r,formDescriptionId:i,formMessageId:n}=X();return(0,t.jsx)(G.DX,{ref:s,id:r,"aria-describedby":l?"".concat(i," ").concat(n):"".concat(i),"aria-invalid":!!l,...a})});K.displayName="FormControl",l.forwardRef((e,s)=>{let{className:a,...l}=e,{formDescriptionId:r}=X();return(0,t.jsx)("p",{ref:s,id:r,className:(0,M.cn)("text-sm text-muted-foreground",a),...l})}).displayName="FormDescription";let Q=l.forwardRef((e,s)=>{let{className:a,children:l,...r}=e,{error:i,formMessageId:n}=X(),c=i?String(null==i?void 0:i.message):l;return c?(0,t.jsx)("p",{ref:s,id:n,className:(0,M.cn)("text-sm font-medium text-destructive",a),...r,children:c}):null});Q.displayName="FormMessage";let ee=U.Ik({name:U.Yj().min(2,{message:"Name must be at least 2 characters."}),email:U.Yj().email({message:"Please enter a valid email address."}),batchId:U.Yj().optional()}),es=e=>{let{batches:s,onAddStudent:a,onCancel:r,editingStudent:n,onEditStudent:c}=e,[d,o]=(0,l.useState)(!1),m=!!n,u=(0,O.mN)({resolver:(0,V.u)(ee),defaultValues:{name:(null==n?void 0:n.name)||"",email:(null==n?void 0:n.email)||"",batchId:(e=>{if(!e)return;let a=s.find(s=>s.name===e);return null==a?void 0:a.id})((null==n?void 0:n.batch)||null)}}),h=async e=>{o(!0);try{m&&n&&c?await c(n.id,{name:e.name,email:e.email,batchId:e.batchId}):await a({name:e.name,email:e.email,batchId:e.batchId}),u.reset()}catch(e){console.error(m?"Error editing student:":"Error adding student:",e)}finally{o(!1)}};return(0,t.jsx)(q,{...u,children:(0,t.jsxs)("form",{onSubmit:u.handleSubmit(h),className:"space-y-4",children:[(0,t.jsx)(H,{control:u.control,name:"name",render:e=>{let{field:s}=e;return(0,t.jsxs)(Y,{children:[(0,t.jsx)(Z,{className:"font-semibold",children:"Full Name"}),(0,t.jsx)(K,{children:(0,t.jsx)(f.p,{placeholder:"Enter student's full name",...s})}),(0,t.jsx)(Q,{})]})}}),(0,t.jsx)(H,{control:u.control,name:"email",render:e=>{let{field:s}=e;return(0,t.jsxs)(Y,{children:[(0,t.jsx)(Z,{className:"font-semibold",children:"Email Address"}),(0,t.jsx)(K,{children:(0,t.jsx)(f.p,{placeholder:"Enter student's email address",...s})}),(0,t.jsx)(Q,{})]})}}),(0,t.jsx)(H,{control:u.control,name:"batchId",render:e=>{let{field:a}=e;return(0,t.jsxs)(Y,{children:[(0,t.jsx)(Z,{className:"font-semibold",children:"Batch (Optional)"}),(0,t.jsxs)(I.l6,{onValueChange:a.onChange,value:a.value,children:[(0,t.jsx)(K,{children:(0,t.jsx)(I.bq,{children:(0,t.jsx)(I.yv,{placeholder:"Select a batch"})})}),(0,t.jsx)(I.gC,{children:s.map(e=>(0,t.jsx)(I.eb,{value:e.id,children:e.name},e.id))})]}),(0,t.jsx)(Q,{})]})}}),(0,t.jsxs)("div",{className:"flex justify-end gap-2 pt-4",children:[r&&(0,t.jsx)(i.$,{type:"button",variant:"outline",onClick:r,children:"Cancel"}),(0,t.jsx)(i.$,{type:"submit",disabled:d,children:d?m?"Updating...":"Adding...":m?"Update Student":"Add Student"})]})]})})},ea=(0,a(2085).F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),et=l.forwardRef((e,s)=>{let{className:a,variant:l,...r}=e;return(0,t.jsx)("div",{ref:s,role:"alert",className:(0,M.cn)(ea({variant:l}),a),...r})});et.displayName="Alert";let el=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("h5",{ref:s,className:(0,M.cn)("mb-1 font-medium leading-none tracking-tight",a),...l})});el.displayName="AlertTitle";let er=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("div",{ref:s,className:(0,M.cn)("text-sm [&_p]:leading-relaxed",a),...l})});er.displayName="AlertDescription";var ei=a(5863);let en=l.forwardRef((e,s)=>{let{className:a,value:l,...r}=e;return(0,t.jsx)(ei.bL,{ref:s,className:(0,M.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",a),...r,children:(0,t.jsx)(ei.C1,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(l||0),"%)")}})})});en.displayName=ei.bL.displayName;var ec=a(1788),ed=a(646),eo=a(4861),em=a(5339);let eu=e=>{let{open:s,onOpenChange:a,batches:r,onUpload:n}=e,[c,o]=(0,l.useState)(null),[u,h]=(0,l.useState)("csv"),[x,p]=(0,l.useState)(!1),[j,f]=(0,l.useState)(null),[g,v]=(0,l.useState)(null),[b,N]=(0,l.useState)(!1),y=e=>{e||(o(null),h("csv"),f(null),v(null),N(!1)),a(e)},w=async()=>{let e=Math.floor(50*Math.random())+10,s=0,a=0,t=0,l=[];v({totalRecords:e,processedRecords:0,successfulRecords:0,failedRecords:0,failedRows:[]});for(let r=0;r<e;r++)await new Promise(e=>setTimeout(e,100)),s++,.2>Math.random()?(t++,l.push({row:r+2,data:{name:"Student ".concat(r+1),email:"student".concat(r+1,"@example.com"),batch:"Invalid Batch"},errors:["Invalid batch name","Email already exists"]})):a++,v({totalRecords:e,processedRecords:s,successfulRecords:a,failedRecords:t,failedRows:l});return{totalRecords:e,processedRecords:s,successfulRecords:a,failedRecords:t,failedRows:l}},C=e=>{var s;let a=null==(s=e.target.files)?void 0:s[0];a&&(o(a),f(null),a.name.endsWith(".csv")?h("csv"):(a.name.endsWith(".xlsx")||a.name.endsWith(".xls"))&&h("excel"))},S=async()=>{f(null),p(!0),N(!0);try{if(!c)throw Error("Please select a file to upload");await w(),await n({file:c,fileType:u})}catch(e){f(e instanceof Error?e.message:"An error occurred during upload"),N(!1)}finally{p(!1)}},A=g?g.processedRecords/g.totalRecords*100:0;return(0,t.jsx)(k.lG,{open:s,onOpenChange:y,children:(0,t.jsxs)(k.Cf,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[(0,t.jsxs)(k.c7,{children:[(0,t.jsxs)(k.L3,{className:"flex items-center gap-2",children:[(0,t.jsx)($.A,{className:"h-5 w-5"}),"Bulk Upload Students"]}),(0,t.jsx)(k.rr,{children:"Upload multiple students at once using a spreadsheet file or URL."})]}),(0,t.jsxs)("div",{className:"space-y-6 py-4",children:[b?(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h3",{className:"font-medium mb-2",children:"Processing Records"}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:[(null==g?void 0:g.processedRecords)||0," of ",(null==g?void 0:g.totalRecords)||0," records processed"]})]}),(0,t.jsx)(en,{value:A,className:"w-full h-2"}),g&&(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(ed.A,{className:"h-4 w-4 text-green-600"}),(0,t.jsxs)("span",{children:["Successful: ",g.successfulRecords]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(eo.A,{className:"h-4 w-4 text-red-600"}),(0,t.jsxs)("span",{children:["Failed: ",g.failedRecords]})]})]}),(null==g?void 0:g.failedRecords)>0&&!x&&(0,t.jsxs)(et,{variant:"destructive",children:[(0,t.jsx)(em.A,{className:"h-4 w-4"}),(0,t.jsx)(el,{children:"Some records failed to upload"}),(0,t.jsxs)(er,{className:"mt-2",children:[g.failedRecords," out of ",g.totalRecords," records failed.",(0,t.jsx)(i.$,{variant:"ghost",size:"sm",onClick:()=>{var e;if(!(null==g||null==(e=g.failedRows)?void 0:e.length))return;let s=new Blob([["Row,Name,Email,Batch,Errors",...g.failedRows.map(e=>[e.row,e.data.name||"",e.data.email||"",e.data.batch||"",e.errors.join("; ")].map(e=>'"'.concat(e,'"')).join(","))].join("\n")],{type:"text/csv"}),a=window.URL.createObjectURL(s),t=document.createElement("a");t.href=a,t.download="failed-student-records.csv",t.click(),window.URL.revokeObjectURL(a)},className:"ml-2 h-auto p-0 text-red-600 hover:text-red-800",children:"Download failed records"})]})]})]})}):(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"border-2 border-dashed border-muted-foreground/25 rounded-lg p-8 text-center hover:border-muted-foreground/50 transition-colors cursor-pointer",onDrop:e=>{e.preventDefault();let s=e.dataTransfer.files;(null==s?void 0:s[0])&&C({target:{files:s}})},onDragOver:e=>e.preventDefault(),onClick:()=>{var e;return null==(e=document.getElementById("bulk-file-upload"))?void 0:e.click()},children:[(0,t.jsx)(d.A,{className:"h-10 w-10 text-muted-foreground mx-auto mb-4"}),(0,t.jsx)("h3",{className:"font-medium mb-2",children:"Upload Student Data"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"Drag and drop your CSV file here, or click to browse"}),(0,t.jsx)("input",{type:"file",accept:".csv,.xlsx,.xls",onChange:C,className:"hidden",id:"bulk-file-upload"}),c&&(0,t.jsxs)("div",{className:"mt-3 text-sm text-muted-foreground",children:["Selected: ",c.name]})]}),(0,t.jsx)("div",{className:"text-center",children:(0,t.jsxs)(i.$,{variant:"ghost",size:"sm",onClick:()=>{let e=new Blob(["Name,Email,Batch\nJohn Doe,john.doe@example.com,Full Stack Batch 2024-A\nJane Smith,jane.smith@example.com,Full Stack Batch 2024-B\nBob Johnson,bob.johnson@example.com,"],{type:"text/csv"}),s=window.URL.createObjectURL(e),a=document.createElement("a");a.href=s,a.download="student-upload-sample.csv",a.click(),window.URL.revokeObjectURL(s)},className:"text-primary",children:[(0,t.jsx)(ec.A,{className:"h-4 w-4 mr-2"}),"Download Sample CSV"]})})]})}),j&&(0,t.jsxs)(et,{variant:"destructive",children:[(0,t.jsx)(em.A,{className:"h-4 w-4"}),(0,t.jsx)(el,{children:"Error"}),(0,t.jsx)(er,{children:j})]}),!b&&(0,t.jsxs)(et,{variant:"default",className:"bg-card",children:[(0,t.jsx)(m.A,{className:"h-4 w-4"}),(0,t.jsx)(el,{children:"Required Format"}),(0,t.jsx)(er,{className:"text-xs",children:"Your CSV should have 'Name' and 'Email' columns (required). Optional 'Batch' column for automatic assignment."})]})]}),(0,t.jsx)(k.Es,{children:b?(0,t.jsx)(t.Fragment,{children:g&&g.processedRecords===g.totalRecords&&(0,t.jsx)(i.$,{onClick:()=>{y(!1)},className:"bg-primary hover:bg-primary-dark ml-auto",children:"Add Students"})}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.$,{variant:"outline",onClick:()=>y(!1),children:"Cancel"}),(0,t.jsx)(i.$,{onClick:S,disabled:x||!c,children:x?"Processing...":"Upload Students"})]})})]})})},eh=e=>{let{courseId:s,initialBatchFilter:a}=e,n=(0,r.useRouter)(),[c,d]=(0,l.useState)(!1),[o,m]=(0,l.useState)(!1),[u,h]=(0,l.useState)(!1),[p,j]=(0,l.useState)(null),[g,v]=(0,l.useState)(""),[b,N]=(0,l.useState)(a||"all"),[w,C]=(0,l.useState)("all"),[S,A]=(0,l.useState)([]),[E,D]=(0,l.useState)(""),[F,M]=(0,l.useState)((()=>{let e=["John","Jane","Bob","Sarah","Mike","Lisa","David","Emma","Alex","Maria","Chris","Anna","Tom","Lucy","Sam","Kate","Mark","Eva","Paul","Nina"],s=["Smith","Johnson","Williams","Brown","Jones","Garcia","Miller","Davis","Rodriguez","Martinez","Hernandez","Lopez","Gonzalez","Wilson","Anderson","Thomas","Taylor","Moore","Jackson","Martin"],a=["active","dropout","graduated"],t=["Full Stack Batch 2024-A","Full Stack Batch 2024-B",null];return Array.from({length:50},(l,r)=>{let i=e[Math.floor(Math.random()*e.length)],n=s[Math.floor(Math.random()*s.length)],c=a[Math.floor(Math.random()*a.length)],d=t[Math.floor(Math.random()*t.length)],o=new Date(2024,0,Math.floor(30*Math.random())+1).toISOString().split("T")[0],m=Math.floor(20*Math.random())+1,u=Math.round(m/20*100);return{id:"student-".concat(r+1),name:"".concat(i," ").concat(n),email:"".concat(i.toLowerCase(),".").concat(n.toLowerCase(),"@example.com"),enrolledDate:o,progress:Math.floor(100*Math.random()),lastActive:new Date(2024,0,Math.floor(30*Math.random())+1).toISOString().split("T")[0],batch:d,status:c,attendance:"".concat(m," (").concat(u,"%)")}})})()),[R,L]=(0,l.useState)([{id:"batch-1",name:"Full Stack Batch 2024-A",status:"Ongoing",startDate:"2024-01-15",endDate:"2024-03-15",studentCount:25},{id:"batch-2",name:"Full Stack Batch 2024-B",status:"Ongoing",startDate:"2024-02-01",endDate:"2024-05-01",studentCount:25}]);(0,l.useEffect)(()=>{a&&N(a)},[a]);let B=F.filter(e=>{let s=e.name.toLowerCase().includes(g.toLowerCase())||e.email.toLowerCase().includes(g.toLowerCase()),a="all"===b||e.batch===b,t="all"===w||e.status===w;return s&&a&&t}),U=async e=>{var s;M([...F,{id:"student-".concat(Date.now()),name:e.name,email:e.email,enrolledDate:new Date().toISOString().split("T")[0],progress:0,lastActive:new Date().toISOString().split("T")[0],batch:e.batchId&&(null==(s=R.find(s=>s.id===e.batchId))?void 0:s.name)||null,status:"active",attendance:"0 (0%)"}]),m(!1)},O=async(e,s)=>{M(F.map(a=>{var t;return a.id===e?{...a,name:s.name,email:s.email,batch:s.batchId&&(null==(t=R.find(e=>e.id===s.batchId))?void 0:t.name)||null}:a})),h(!1),j(null)},V=async e=>{console.log("Bulk upload:",e),d(!1)};return(0,t.jsxs)("div",{className:"w-full max-w-none space-y-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"font-heading text-xl font-semibold",children:"Students"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Manage student enrollments and track their progress"})]})}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("div",{className:"relative flex-1 max-w-md",children:[(0,t.jsx)(J.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,t.jsx)(f.p,{placeholder:"Search students...",value:g,onChange:e=>v(e.target.value),className:"pl-10 h-10"})]}),(0,t.jsxs)(I.l6,{value:b,onValueChange:N,children:[(0,t.jsx)(I.bq,{className:"w-[200px] h-10",children:(0,t.jsx)(I.yv,{placeholder:"Filter by batch"})}),(0,t.jsxs)(I.gC,{children:[(0,t.jsx)(I.eb,{value:"all",children:"All Batches"}),R.map(e=>(0,t.jsx)(I.eb,{value:e.name,children:e.name},e.id)),(0,t.jsx)(I.eb,{value:"unassigned",children:"Unassigned"})]})]}),(0,t.jsxs)(I.l6,{value:w,onValueChange:C,children:[(0,t.jsx)(I.bq,{className:"w-[150px] h-10",children:(0,t.jsx)(I.yv,{placeholder:"Filter by status"})}),(0,t.jsxs)(I.gC,{children:[(0,t.jsx)(I.eb,{value:"all",children:"All Status"}),(0,t.jsx)(I.eb,{value:"active",children:"Active"}),(0,t.jsx)(I.eb,{value:"dropout",children:"Dropout"}),(0,t.jsx)(I.eb,{value:"graduated",children:"Graduated"})]})]}),(0,t.jsxs)("div",{className:"flex gap-2 ml-auto",children:[(0,t.jsxs)(i.$,{variant:"outline",className:"h-10",onClick:()=>m(!0),children:[(0,t.jsx)(z.A,{className:"h-4 w-4 mr-2"}),"Add Single Student"]}),(0,t.jsxs)(i.$,{className:"bg-primary hover:bg-primary-dark shadow-4dp h-10",onClick:()=>d(!0),children:[(0,t.jsx)($.A,{className:"h-4 w-4 mr-2"}),"Bulk Upload"]})]})]}),S.length>0&&(0,t.jsx)("div",{className:"bg-card p-4 rounded-lg border",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("span",{className:"text-sm font-medium",children:[S.length," student",S.length>1?"s":""," selected"]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(I.l6,{value:E,onValueChange:D,children:[(0,t.jsx)(I.bq,{className:"w-[200px]",children:(0,t.jsx)(I.yv,{placeholder:"Assign to batch..."})}),(0,t.jsx)(I.gC,{children:R.map(e=>(0,t.jsx)(I.eb,{value:e.id,children:e.name},e.id))})]}),E&&(0,t.jsxs)(i.$,{size:"sm",onClick:()=>{var e;if(!E)return;let s=null==(e=R.find(e=>e.id===E))?void 0:e.name;s&&(M(F.map(e=>S.includes(e.id)?{...e,batch:s}:e)),A([]),D(""))},children:[(0,t.jsx)(x.A,{className:"h-4 w-4 mr-2"}),"Assign"]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(i.$,{size:"sm",variant:"outline",onClick:()=>{M(F.map(e=>S.includes(e.id)?{...e,status:"dropout"}:e)),A([])},children:[(0,t.jsx)(P.A,{className:"h-4 w-4 mr-2"}),"Mark as Dropout"]}),(0,t.jsxs)(i.$,{size:"sm",variant:"destructive",onClick:()=>{let e=S.filter(e=>{var s;let a=F.find(s=>s.id===e);return a&&(!a.batch||(null==(s=R.find(e=>e.name===a.batch))?void 0:s.status)==="Not Started"||!a.batch)});M(F.filter(s=>!e.includes(s.id))),A([])},children:[(0,t.jsx)(y.A,{className:"h-4 w-4 mr-2"}),"Delete Selected"]}),(0,t.jsx)(i.$,{size:"sm",variant:"ghost",onClick:()=>A([]),children:"Cancel"})]})]})}),(0,t.jsx)(T.A,{students:B,batches:R,onDeleteStudent:e=>{M(F.filter(s=>s.id!==e))},onDropoutStudent:e=>{M(F.map(s=>s.id===e?{...s,status:"dropout"}:s))},onEditStudent:e=>{let s=F.find(s=>s.id===e);s&&(j(s),h(!0))},onContactStudent:e=>{console.log("Contact student:",e)},onBatchChange:(e,s)=>{M(a=>a.map(a=>a.id===e?{...a,batch:s}:a));let a=F.find(s=>s.id===e);console.log("Changed ".concat(null==a?void 0:a.name,"'s batch to:"),s||"Unassigned")},selectedStudents:S,onSelectStudent:(e,s)=>{s?A([...S,e]):A(S.filter(s=>s!==e))},onSelectAll:e=>{e?A(B.map(e=>e.id)):A([])},showMultiSelect:!0,onStudentClick:e=>{n.push("/courses/".concat(s,"/students/").concat(e))},totalClasses:20}),(0,t.jsx)(k.lG,{open:o,onOpenChange:m,children:(0,t.jsxs)(k.Cf,{className:"max-w-md",children:[(0,t.jsx)(k.c7,{children:(0,t.jsx)(k.L3,{className:"font-heading text-xl",children:"Add New Student"})}),(0,t.jsx)(es,{batches:R,onAddStudent:U,onCancel:()=>m(!1)})]})}),(0,t.jsx)(k.lG,{open:u,onOpenChange:h,children:(0,t.jsxs)(k.Cf,{className:"max-w-md",children:[(0,t.jsx)(k.c7,{children:(0,t.jsx)(k.L3,{className:"font-heading text-xl",children:"Edit Student"})}),(0,t.jsx)(es,{batches:R,onAddStudent:U,onCancel:()=>{h(!1),j(null)},editingStudent:p,onEditStudent:O})]})}),(0,t.jsx)(eu,{open:c,onOpenChange:d,batches:R,onUpload:V})]})};var ex=a(333),ep=a(1243);let ej=e=>{let{courseId:s}=e,[a,r]=(0,l.useState)({courseType:"private",moduleLock:!0}),[n,c]=(0,l.useState)(!1),[d,o]=(0,l.useState)(!1),[u,h]=(0,l.useState)(""),x="Full Stack Web Development Bootcamp",p=(e,s)=>{r(a=>({...a,[e]:s})),o(!1)};return(0,t.jsxs)("div",{className:"max-w-4xl mx-auto space-y-8",children:[(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{children:(0,t.jsx)("h2",{className:"font-heading text-xl font-semibold mb-2",children:"Course Settings"})}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(g.J,{className:"text-base font-medium",children:"Course Type"}),(0,t.jsxs)(b.z,{value:a.courseType,onValueChange:e=>p("courseType",e),className:"flex flex-col space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(b.C,{value:"private",id:"private"}),(0,t.jsx)(g.J,{htmlFor:"private",className:"font-normal",children:"Private - Only invited students can access this course"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(b.C,{value:"public",id:"public"}),(0,t.jsx)(g.J,{htmlFor:"public",className:"font-normal",children:"Public - Anyone with the link can access this course"})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between py-4 border-t border-b",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(g.J,{className:"text-base font-medium",children:"Module Lock"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"If enabled, students must complete modules and projects in sequential order"})]}),(0,t.jsx)(ex.d,{checked:a.moduleLock,onCheckedChange:e=>p("moduleLock",e)})]}),(0,t.jsxs)("div",{className:"flex items-center justify-end pt-4",children:[d&&(0,t.jsxs)(et,{variant:"default",className:"bg-success-light text-success-dark mr-4 py-2 h-10",children:[(0,t.jsx)(m.A,{className:"h-4 w-4"}),(0,t.jsx)(er,{children:"Settings saved successfully"})]}),(0,t.jsx)(i.$,{onClick:()=>{console.log("Saving settings:",a),o(!0),setTimeout(()=>{o(!1)},3e3)},className:"bg-primary hover:bg-primary-dark",children:"Save Settings"})]})]}),(0,t.jsxs)("div",{className:"space-y-6 pt-8 border-t",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(ep.A,{className:"h-5 w-5 text-destructive"}),(0,t.jsx)("h2",{className:"font-heading text-xl font-semibold text-destructive",children:"Delete Course"})]}),(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground flex-1 mr-4",children:"Once you delete a course, there is no going back. This will permanently delete the course, all its content, student enrollments, and submission data."}),(0,t.jsxs)(k.lG,{open:n,onOpenChange:c,children:[(0,t.jsx)(k.zM,{asChild:!0,children:(0,t.jsxs)(i.$,{variant:"destructive",className:"bg-destructive hover:bg-destructive-dark",children:[(0,t.jsx)(y.A,{className:"h-4 w-4 mr-2"}),"Delete Course"]})}),(0,t.jsxs)(k.Cf,{children:[(0,t.jsxs)(k.c7,{children:[(0,t.jsx)(k.L3,{children:"Are you absolutely sure?"}),(0,t.jsx)(k.rr,{children:"This action cannot be undone. This will permanently delete the course and remove all associated data including student submissions."})]}),(0,t.jsx)("div",{className:"space-y-4 py-4",children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(g.J,{htmlFor:"delete-confirmation",className:"text-sm font-medium",children:['Type "',x,'" to confirm:']}),(0,t.jsx)(f.p,{id:"delete-confirmation",value:u,onChange:e=>h(e.target.value),placeholder:x})]})}),(0,t.jsxs)(k.Es,{children:[(0,t.jsx)(i.$,{variant:"outline",onClick:()=>{c(!1),h("")},children:"Cancel"}),(0,t.jsx)(i.$,{variant:"destructive",onClick:()=>{u===x&&(console.log("Deleting course:",s),c(!1),h(""))},disabled:u!==x,children:"Delete Course"})]})]})]})]})]})]})};var ef=a(8623),eg=a(9145),ev=a(9621),eb=a(1497),eN=a(4186);function ey(e){let{className:s,...a}=e;return(0,t.jsx)("div",{className:(0,M.cn)("animate-pulse rounded-md bg-muted",s),...a})}var ew=a(3884);let eC=e=>{let{submissionType:s}=e;return(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 px-4",children:[(0,t.jsx)("img",{src:"/empty-submissions.png",alt:"No submissions",width:120,height:120,className:"mb-6"}),(0,t.jsxs)("p",{className:"text-center text-muted-foreground max-w-md",children:["No ",(e=>({assessments:"assessment",assignments:"assignment",projects:"project",quizzes:"quiz",coding:"coding problem",feedback:"feedback form"})[e]||e)(s)," submissions available from the students yet. Please wait until the first submission."]})]})},ek=e=>{let{courseId:s,submissionType:a,onSelectItem:i}=e,c=(0,r.useRouter)(),[d,o]=(0,l.useState)([]),[m,h]=(0,l.useState)(!0),[x,j]=(0,l.useState)({}),[f,g]=(0,l.useState)({});return((0,l.useEffect)(()=>{h(!0),setTimeout(()=>{let e=[],t=[];if("2"===s)e=[],t=[];else switch(a){case"assignments":e=ew.Dc,t=ew.TS;break;case"quizzes":e=ew.QH,t=ew.B1;break;case"coding":e=ew.z1,t=ew.Es;break;case"assessments":e=ew.os,t=ew.gu;break;case"feedback":e=ew.jM,t=ew.fx;break;case"projects":e=ew.tq,t=ew.F8;break;default:e=[],t=[]}let l={},r={};t.forEach(e=>{l[e.itemId]||(l[e.itemId]=0),l[e.itemId]++,"submitted"===e.status&&(r[e.itemId]||(r[e.itemId]=0),r[e.itemId]++)}),j(l),g(r),o(e),h(!1)},500)},[a,s]),m)?(0,t.jsx)("div",{className:"w-full",children:(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[1,2,3,4,5,6].map(e=>(0,t.jsx)(S.Zp,{children:(0,t.jsxs)(S.Wu,{className:"p-4",children:[(0,t.jsx)(ey,{className:"h-6 w-3/4 mb-3"}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)(ey,{className:"h-4 w-1/4"}),(0,t.jsx)(ey,{className:"h-4 w-1/4"})]})]})},e))})}):0===d.length?(0,t.jsx)(eC,{submissionType:a}):(0,t.jsx)("div",{className:"w-full",children:(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:d.map(e=>{let l=(e=>{switch(e){case"article":case"assignment":default:return p.A;case"video":return eN.A;case"quiz":return eg.A;case"coding":return ev.A;case"assessment":return ef.A;case"feedback":return eb.A;case"project":return u.A}})(e.type),r=x[e.id]||0,i=f[e.id]||0;return(0,t.jsx)(S.Zp,{className:"cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>c.push("/submissions/".concat(s,"/").concat(e.id,"?type=").concat(a)),children:(0,t.jsxs)(S.Wu,{className:"p-4",children:[(0,t.jsx)("div",{className:"flex items-start justify-between",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"bg-muted p-2 rounded-md",children:(0,t.jsx)(l,{className:"h-4 w-4"})}),(0,t.jsx)("h3",{className:"font-medium text-base",children:e.title})]})}),(0,t.jsxs)("div",{className:"flex items-center justify-between mt-4 text-sm",children:[(0,t.jsx)("div",{className:"flex items-center gap-1",children:(0,t.jsxs)(n.E,{variant:"outline",children:[r," submissions"]})}),i>0&&(0,t.jsxs)(n.E,{variant:"secondary",className:"bg-warning-light text-warning-dark",children:[i," pending"]})]})]})},e.id)})})})},eS=[{id:"assessments",label:"Assessments",icon:ef.A},{id:"assignments",label:"Assignments",icon:p.A},{id:"projects",label:"Projects",icon:u.A},{id:"quizzes",label:"Quizzes",icon:eg.A},{id:"coding",label:"Coding Problems",icon:ev.A},{id:"feedback",label:"Feedback Forms",icon:eb.A}],eA=e=>{let{courseId:s,initialSubmissionType:a}=e,[r,i]=(0,l.useState)(a||"assessments");return(0,l.useEffect)(()=>{a&&i(a)},[a]),(0,t.jsxs)("div",{className:"w-full space-y-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsx)("h2",{className:"text-xl font-semibold",children:"Course Submissions"})}),(0,t.jsxs)(o.tU,{value:r,onValueChange:i,className:"w-full",children:[(0,t.jsx)(o.j7,{className:"grid w-full rounded-none border-b bg-transparent p-0 h-auto",style:{gridTemplateColumns:"repeat(".concat(eS.length,", 1fr)")},children:eS.map(e=>(0,t.jsxs)(o.Xi,{value:e.id,className:"flex items-center gap-2 rounded-none border-b-2 border-b-transparent bg-transparent px-4 py-3 font-medium text-muted-foreground data-[state=active]:border-b-primary data-[state=active]:bg-transparent data-[state=active]:text-foreground data-[state=active]:shadow-none hover:text-foreground",children:[(0,t.jsx)(e.icon,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:e.label})]},e.id))}),eS.map(e=>(0,t.jsx)(o.av,{value:e.id,className:"mt-6",children:(0,t.jsx)(ek,{courseId:s,submissionType:e.id,onSelectItem:()=>{}})},e.id))]})]})};var eE=a(8883),eD=a(2657);let eF=[{id:"1",name:"Full Stack Batch 2024-A",instructorEmail:"john.doe@example.com",capEnrollment:25,studentCount:23,status:"ongoing",startDate:"2024-01-15",endDate:"2024-04-15",createdDate:"2024-01-10"},{id:"2",name:"Full Stack Batch 2024-B",instructorEmail:"jane.smith@example.com",capEnrollment:30,studentCount:25,status:"ongoing",startDate:"2024-02-01",endDate:"2024-05-01",createdDate:"2024-01-25"}],eM=e=>{let{courseId:s}=e,[a,c]=(0,l.useState)(eF),[o,m]=(0,l.useState)(!1),[u,x]=(0,l.useState)(!1),[p,j]=(0,l.useState)(null),[v,b]=(0,l.useState)(1),[N,y]=(0,l.useState)({name:"",instructorEmail:"",capEnrollment:""}),C=(0,r.useRouter)();return(0,t.jsxs)("div",{className:"w-full max-w-none space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"font-heading text-xl font-semibold",children:"Batches"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Organize students into batches for better management"})]}),(0,t.jsxs)(i.$,{onClick:()=>{m(!0),b(1)},className:"bg-primary hover:bg-primary-dark shadow-4dp",children:[(0,t.jsx)(A.A,{className:"h-4 w-4 mr-2"}),"Create New Batch"]})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:a.map(e=>(0,t.jsxs)(S.Zp,{className:"hover:shadow-hover transition-all duration-200",children:[(0,t.jsx)(S.aR,{className:"pb-3",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(S.ZB,{className:"text-lg font-semibold mb-2",children:e.name}),(0,t.jsx)(n.E,{variant:"outline",className:"capitalize text-xs ".concat((e=>{switch(e){case"ongoing":return"bg-success-light text-success-dark border-success";case"not_started":return"bg-warning-light text-warning-dark border-warning";default:return"bg-muted text-muted-foreground border-border"}})(e.status)),children:e.status.replace("_"," ")})]}),(0,t.jsx)(i.$,{variant:"ghost",size:"icon",className:"h-8 w-8 hover:bg-primary hover:text-white",onClick:()=>(e=>{j(e),y({name:e.name,instructorEmail:e.instructorEmail,capEnrollment:e.capEnrollment.toString()}),x(!0),b(1)})(e),children:(0,t.jsx)(F.A,{className:"h-4 w-4"})})]})}),(0,t.jsxs)(S.Wu,{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,t.jsx)(eE.A,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsx)("span",{className:"text-muted-foreground",children:"Instructor:"}),(0,t.jsx)("span",{children:e.instructorEmail})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,t.jsx)(h.A,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsx)("span",{className:"text-muted-foreground",children:"Students:"}),(0,t.jsxs)("span",{children:[e.studentCount,"/",e.capEnrollment]})]}),e.startDate&&(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,t.jsx)(w.A,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsx)("span",{className:"text-muted-foreground",children:"Duration:"}),(0,t.jsxs)("span",{children:[e.startDate," - ",e.endDate]})]})]}),(0,t.jsx)(S.wL,{className:"pt-3",children:(0,t.jsxs)(i.$,{variant:"outline",size:"sm",onClick:()=>{var a;return a=e.id,void C.push("/courses/".concat(s,"/batches/").concat(a))},className:"w-full h-10",children:[(0,t.jsx)(eD.A,{className:"h-4 w-4 mr-2"}),"View Students"]})})]},e.id))}),(0,t.jsx)(k.lG,{open:o,onOpenChange:m,children:(0,t.jsxs)(k.Cf,{className:"max-w-2xl",children:[(0,t.jsxs)(k.c7,{children:[(0,t.jsxs)(k.L3,{className:"font-heading text-xl",children:["Create New Batch - Step ",v," of 2"]}),(0,t.jsx)(k.rr,{children:1===v?"Set up your batch details and instructor information.":"Add students to your batch via CSV upload."})]}),1===v?(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(g.J,{htmlFor:"batchName",className:"font-semibold",children:"Batch Name *"}),(0,t.jsx)(f.p,{id:"batchName",value:N.name,onChange:e=>y(s=>({...s,name:e.target.value})),placeholder:"Enter batch name"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(g.J,{htmlFor:"instructorEmail",className:"font-semibold",children:"Instructor Email *"}),(0,t.jsx)(f.p,{id:"instructorEmail",type:"email",value:N.instructorEmail,onChange:e=>y(s=>({...s,instructorEmail:e.target.value})),placeholder:"Enter instructor email"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(g.J,{htmlFor:"capEnrollment",className:"font-semibold",children:"Cap Enrollment *"}),(0,t.jsx)(f.p,{id:"capEnrollment",type:"number",min:"1",value:N.capEnrollment,onChange:e=>y(s=>({...s,capEnrollment:e.target.value})),placeholder:"Maximum number of students"})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-2 pt-4",children:[(0,t.jsx)(i.$,{variant:"outline",onClick:()=>m(!1),children:"Cancel"}),(0,t.jsx)(i.$,{onClick:()=>{1===v&&b(2)},className:"bg-primary hover:bg-primary-dark",children:"Next: Add Students"})]})]}):(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"border-2 border-dashed rounded-lg p-6 text-center",children:[(0,t.jsx)(d.A,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:"Upload a CSV file with student information"}),(0,t.jsxs)(i.$,{variant:"secondary",size:"sm",children:[(0,t.jsx)(d.A,{className:"h-4 w-4 mr-2"}),"Select CSV File"]})]}),(0,t.jsx)("div",{className:"text-center",children:(0,t.jsx)(i.$,{variant:"ghost",size:"sm",children:"Download Sample CSV"})})]}),(0,t.jsxs)("div",{className:"flex justify-between gap-2 pt-4",children:[(0,t.jsx)(i.$,{variant:"outline",onClick:()=>{2===v&&b(1)},children:"Previous"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(i.$,{variant:"outline",onClick:()=>m(!1),children:"Cancel"}),(0,t.jsx)(i.$,{onClick:()=>{console.log("Creating batch:",N),m(!1),b(1),y({name:"",instructorEmail:"",capEnrollment:""})},className:"bg-primary hover:bg-primary-dark",children:"Create Batch"})]})]})]})]})}),(0,t.jsx)(k.lG,{open:u,onOpenChange:x,children:(0,t.jsxs)(k.Cf,{className:"max-w-2xl",children:[(0,t.jsxs)(k.c7,{children:[(0,t.jsxs)(k.L3,{className:"font-heading text-xl",children:["Edit Batch - ",null==p?void 0:p.name]}),(0,t.jsx)(k.rr,{children:"Update batch details and instructor information."})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(g.J,{htmlFor:"editBatchName",className:"font-semibold",children:"Batch Name *"}),(0,t.jsx)(f.p,{id:"editBatchName",value:N.name,onChange:e=>y(s=>({...s,name:e.target.value})),placeholder:"Enter batch name"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(g.J,{htmlFor:"editInstructorEmail",className:"font-semibold",children:"Instructor Email *"}),(0,t.jsx)(f.p,{id:"editInstructorEmail",type:"email",value:N.instructorEmail,onChange:e=>y(s=>({...s,instructorEmail:e.target.value})),placeholder:"Enter instructor email"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(g.J,{htmlFor:"editCapEnrollment",className:"font-semibold",children:"Cap Enrollment *"}),(0,t.jsx)(f.p,{id:"editCapEnrollment",type:"number",min:"1",value:N.capEnrollment,onChange:e=>y(s=>({...s,capEnrollment:e.target.value})),placeholder:"Maximum number of students"})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-2 pt-4",children:[(0,t.jsx)(i.$,{variant:"outline",onClick:()=>x(!1),children:"Cancel"}),(0,t.jsx)(i.$,{onClick:()=>{p&&(c(e=>e.map(e=>e.id===p.id?{...e,...N,capEnrollment:parseInt(N.capEnrollment)}:e)),x(!1),j(null),y({name:"",instructorEmail:"",capEnrollment:""}))},className:"bg-primary hover:bg-primary-dark",children:"Update Batch"})]})]})]})})]})},eR=e=>{let{courseId:s}=e,a=(0,r.useSearchParams)(),[i,n]=(0,l.useState)("general"),[c,d]=(0,l.useState)(null),[f,g]=(0,l.useState)(null),v=(0,l.useRef)(null);return(0,l.useEffect)(()=>{let e=a.get("tab"),s=a.get("submissionType");e&&n(e),s&&g(s)},[a]),(0,l.useEffect)(()=>{let e=e=>{let{batchName:s}=e.detail;d(s),n("students"),setTimeout(()=>{var e;null==(e=v.current)||e.scrollIntoView({behavior:"smooth",block:"start"})},100)};return window.addEventListener("navigateToStudents",e),()=>{window.removeEventListener("navigateToStudents",e)}},[]),(0,t.jsxs)(o.tU,{value:i,onValueChange:n,className:"w-full",children:[(0,t.jsxs)(o.j7,{className:"grid w-full grid-cols-6 bg-card border border-border rounded-lg p-1 h-12",children:[(0,t.jsxs)(o.Xi,{value:"general",className:"flex items-center justify-center gap-2 h-10 data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:[(0,t.jsx)(m.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"General Details"}),(0,t.jsx)("span",{className:"sm:hidden",children:"General"})]}),(0,t.jsxs)(o.Xi,{value:"curriculum",className:"flex items-center justify-center gap-2 h-10 data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:[(0,t.jsx)(u.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"Curriculum"}),(0,t.jsx)("span",{className:"sm:hidden",children:"Content"})]}),(0,t.jsxs)(o.Xi,{value:"students",className:"flex items-center justify-center gap-2 h-10 data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:[(0,t.jsx)(h.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"Students"}),(0,t.jsx)("span",{className:"sm:hidden",children:"Students"})]}),(0,t.jsxs)(o.Xi,{value:"batches",className:"flex items-center justify-center gap-2 h-10 data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:[(0,t.jsx)(x.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"Batches"}),(0,t.jsx)("span",{className:"sm:hidden",children:"Batches"})]}),(0,t.jsxs)(o.Xi,{value:"submissions",className:"flex items-center justify-center gap-2 h-10 data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:[(0,t.jsx)(p.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"Submissions"}),(0,t.jsx)("span",{className:"sm:hidden",children:"Submits"})]}),(0,t.jsxs)(o.Xi,{value:"settings",className:"flex items-center justify-center gap-2 h-10 data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:[(0,t.jsx)(j.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Settings"})]})]}),(0,t.jsxs)("div",{className:"mt-6",children:[(0,t.jsx)(o.av,{value:"general",className:"mt-0",children:(0,t.jsx)(C,{courseId:s})}),(0,t.jsx)(o.av,{value:"curriculum",className:"mt-0",children:(0,t.jsx)(B,{courseId:s})}),(0,t.jsx)(o.av,{value:"students",className:"mt-0",ref:v,children:(0,t.jsx)(eh,{courseId:s,initialBatchFilter:c})}),(0,t.jsx)(o.av,{value:"batches",className:"mt-0",children:(0,t.jsx)(eM,{courseId:s})}),(0,t.jsx)(o.av,{value:"submissions",className:"mt-0",children:(0,t.jsx)(eA,{courseId:s,initialSubmissionType:f})}),(0,t.jsx)(o.av,{value:"settings",className:"mt-0",children:(0,t.jsx)(ej,{courseId:s})})]})]})},eL=e=>{let{open:s,onOpenChange:a,courseId:r,onPublish:n}=e,[c,o]=(0,l.useState)(null),[m,u]=(0,l.useState)(!1);(0,l.useEffect)(()=>{s&&o({courseDetails:!0,hasModule:!0,hasStudents:!1})},[s,r]);let h=c&&c.courseDetails&&c.hasModule&&c.hasStudents,x=async()=>{if(h){u(!0);try{await new Promise(e=>setTimeout(e,2e3)),null==n||n(),a(!1)}catch(e){console.error("Failed to publish course:",e)}finally{u(!1)}}},p=[{key:"courseDetails",label:"Course details should be filled up",valid:(null==c?void 0:c.courseDetails)||!1},{key:"hasModule",label:"At least one module with at least one learning item should be added in the curriculum",valid:(null==c?void 0:c.hasModule)||!1},{key:"hasStudents",label:"At least one student should be added in the student list and also assigned to a created batch",valid:(null==c?void 0:c.hasStudents)||!1}];return(0,t.jsx)(k.lG,{open:s,onOpenChange:a,children:(0,t.jsxs)(k.Cf,{className:"max-w-md",children:[(0,t.jsxs)(k.c7,{children:[(0,t.jsxs)(k.L3,{className:"flex items-center gap-2",children:[(0,t.jsx)(d.A,{className:"h-5 w-5"}),"Publish Course"]}),(0,t.jsx)(k.rr,{children:h?"Publishing a course will make it available to the students":"Please complete the following steps before publishing the course"})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[!h&&(0,t.jsxs)(et,{children:[(0,t.jsx)(ep.A,{className:"h-4 w-4"}),(0,t.jsx)(er,{children:"Your course is not ready to be published. Please complete all the requirements below."})]}),(0,t.jsx)("div",{className:"space-y-3",children:p.map(e=>(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[e.valid?(0,t.jsx)(ed.A,{className:"h-5 w-5 text-green-600 mt-0.5 flex-shrink-0"}):(0,t.jsx)(eo.A,{className:"h-5 w-5 text-red-500 mt-0.5 flex-shrink-0"}),(0,t.jsx)("p",{className:"text-sm ".concat(e.valid?"text-green-700":"text-red-600"),children:e.label})]},e.key))})]}),(0,t.jsxs)(k.Es,{className:"gap-2",children:[(0,t.jsx)(i.$,{variant:"outline",onClick:()=>a(!1),disabled:m,children:"Cancel"}),(0,t.jsx)(i.$,{onClick:x,disabled:!h||m,className:"bg-primary hover:bg-primary-dark",children:m?"Publishing...":"Publish"})]})]})})},eB=()=>{let e=(0,r.useParams)(),s=(0,r.useRouter)(),a=null==e?void 0:e.courseId,[o,m]=(0,l.useState)(!1);if(!a)return s.push("/courses"),null;let u=[{id:"1",title:"Full Stack Web Development Bootcamp",description:"Learn modern web development with React, Node.js, and MongoDB. Build real-world projects and deploy them to production.",learnerCount:124,duration:"12 weeks",topic:"Web Development",status:"published",imageUrl:"https://images.unsplash.com/photo-1461749280684-dccba630e2f6?w=800&h=400&fit=crop"},{id:"2",title:"Python for Data Science",description:"Master Python programming for data analysis, visualization, and machine learning with hands-on projects.",learnerCount:89,duration:"8 weeks",topic:"Data Science",status:"published",imageUrl:"https://images.unsplash.com/photo-1488590528505-98d2b5aba04b?w=800&h=400&fit=crop"}].find(e=>e.id===a);return u?(0,t.jsxs)("div",{className:"w-full px-6 py-8",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsxs)(i.$,{variant:"ghost",onClick:()=>s.push("/courses"),className:"hover:text-primary hover:bg-transparent",children:[(0,t.jsx)(c.A,{className:"h-4 w-4 mr-2"}),"Back to Course Library"]}),(0,t.jsx)("div",{className:"flex items-center gap-3",children:(0,t.jsxs)(i.$,{className:"bg-primary hover:bg-primary-dark shadow-4dp",onClick:()=>m(!0),children:[(0,t.jsx)(d.A,{className:"h-4 w-4 mr-2"}),"Publish Course"]})})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("h1",{className:"font-heading text-h5 text-foreground",children:u.title}),(0,t.jsx)(n.E,{variant:"outline",className:"capitalize ".concat((e=>{switch(e){case"published":return"bg-success-light text-success-dark border-success";case"draft":return"bg-warning-light text-warning-dark border-warning";default:return"bg-muted text-muted-foreground border-border"}})(u.status)),children:u.status})]})]}),(0,t.jsx)(eR,{courseId:a}),(0,t.jsx)(eL,{open:o,onOpenChange:m,courseId:a,onPublish:()=>console.log("Course published successfully!")})]}):(0,t.jsx)("div",{className:"w-full px-6 py-8",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h1",{className:"font-heading text-h6 mb-4",children:"Course Not Found"}),(0,t.jsx)("p",{className:"text-muted-foreground mb-6",children:"The course you're looking for doesn't exist."}),(0,t.jsxs)(i.$,{onClick:()=>s.push("/courses"),children:[(0,t.jsx)(c.A,{className:"h-4 w-4 mr-2"}),"Back to Courses"]})]})})};function eI(){return(0,t.jsx)(eB,{})}}},e=>{e.O(0,[7598,2375,5452,7328,9205,6544,6351,3696,6286,614,3e3,8779,8441,5964,7358],()=>e(e.s=7451)),_N_E=e.O()}]);