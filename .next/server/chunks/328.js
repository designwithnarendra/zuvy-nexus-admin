"use strict";exports.id=328,exports.ids=[328],exports.modules={19068:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(62688).A)("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]])},34414:(a,b,c)=>{c.d(b,{A:()=>u});var d=c(60687),e=c(43210),f=c(29523),g=c(96834),h=c(56896),i=c(21342),j=c(63503),k=c(15079),l=c(62688);let m=(0,l.A)("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);var n=c(63143),o=c(41550),p=c(19068);let q=(0,l.A)("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);var r=c(93613),s=c(12720),t=c(99998);let u=({students:a,batches:b,onDeleteStudent:c,onDropoutStudent:l,onEditStudent:u,onContactStudent:v,onBatchChange:w,selectedStudents:x=[],onSelectStudent:y,onSelectAll:z,showMultiSelect:A=!1,onStudentClick:B,totalClasses:C=20,hideBatchColumn:D=!1})=>{let[E,F]=(0,e.useState)(!1),[G,H]=(0,e.useState)(!1),[I,J]=(0,e.useState)(!1),[K,L]=(0,e.useState)(null),[M,N]=(0,e.useState)(""),[O,P]=(0,e.useState)(null),Q=(a,b)=>{L(b.id),N(b.name),"delete"===a?F(!0):"dropout"===a?H(!0):"edit"===a?u(b.id):"contact"===a&&v(b.id)};a.length>0&&(x.length,a.length),x.length>0&&(x.length,a.length);let R=[{key:"name",label:"Student Name",className:"min-w-[200px]"},...D?[]:[{key:"batch",label:"Batch",className:"min-w-[250px]"}],{key:"enrolledDate",label:"Enrolled Date",className:"min-w-[120px]"},{key:"progress",label:"Progress",className:"min-w-[100px]"},{key:"attendance",label:`Attendance (${C} Classes)`,className:"min-w-[120px]"},{key:"lastActive",label:"Last Active",className:"min-w-[120px]"},{key:"status",label:"Status",className:"min-w-[100px]"},{key:"actions",label:"Actions",sortable:!1,className:"w-[60px]"}],S=A?[{key:"select",label:"Select",sortable:!1,className:"w-[50px]"},...R]:R;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"overflow-x-auto",children:(0,d.jsx)(t.A,{data:a.map(c=>{let e=(a=>{if(!a.batch)return!0;let c=b.find(b=>b.name===a.batch);return!c||"Not Started"===c.status})(c),j="dropout"===c.status,l=x.includes(c.id),r={...c,name:(0,d.jsxs)("div",{className:"flex items-center gap-3 cursor-pointer hover:underline",onClick:a=>{a.stopPropagation(),B?.(c.id)},children:[(0,d.jsxs)(s.eu,{className:"h-8 w-8",children:[(0,d.jsx)(s.BK,{src:c.profilePicture,alt:c.name}),(0,d.jsx)(s.q5,{className:"text-xs",children:c.name.split(" ").map(a=>a[0]).join("").toUpperCase().slice(0,2)})]}),(0,d.jsxs)("div",{className:"flex flex-col min-w-0",children:[(0,d.jsx)("span",{className:"font-medium text-sm leading-tight",children:c.name}),(0,d.jsx)("span",{className:"text-xs text-muted-foreground truncate",children:c.email})]})]}),email:null,...D?{}:{batch:(0,d.jsx)("div",{onClick:a=>a.stopPropagation(),children:(0,d.jsxs)(k.l6,{value:c.batch||"unassigned",onValueChange:b=>((b,c)=>{let d=a.find(a=>a.id===b);d&&(d.batch&&d.batch!==c?(P({studentId:b,currentBatch:d.batch,newBatch:c}),N(d.name),J(!0)):w(b,c))})(c.id,"unassigned"===b?null:b),children:[(0,d.jsx)(k.bq,{className:"w-52",children:(0,d.jsx)(k.yv,{placeholder:"Select batch"})}),(0,d.jsxs)(k.gC,{children:[(0,d.jsx)(k.eb,{value:"unassigned",className:"pl-3 [&>span:first-child]:hidden",children:(0,d.jsx)("span",{className:"text-muted-foreground",children:"Unassigned"})}),b.map(a=>(0,d.jsx)(k.eb,{value:a.name,className:"pl-3 [&>span:first-child]:hidden",children:a.name},a.id))]})]})})},progress:(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("div",{className:"w-16 h-2 bg-primary-light rounded-full overflow-hidden",children:(0,d.jsx)("div",{className:"h-full bg-primary transition-all",style:{width:`${c.progress}%`}})}),(0,d.jsxs)("span",{className:"text-sm",children:[c.progress,"%"]})]}),status:(0,d.jsx)(g.E,{variant:"active"===c.status?"default":"dropout"===c.status?"destructive":"graduated"===c.status?"accent":"outline",children:c.status}),actions:(0,d.jsx)("div",{onClick:a=>a.stopPropagation(),children:(0,d.jsxs)(i.rI,{children:[(0,d.jsx)(i.ty,{asChild:!0,children:(0,d.jsxs)(f.$,{variant:"ghost",size:"icon",children:[(0,d.jsx)(m,{className:"h-4 w-4"}),(0,d.jsx)("span",{className:"sr-only",children:"Actions"})]})}),(0,d.jsxs)(i.SQ,{align:"end",children:[(0,d.jsxs)(i._2,{onClick:()=>Q("edit",c),children:[(0,d.jsx)(n.A,{className:"h-4 w-4 mr-2"}),"Edit Student"]}),(0,d.jsxs)(i._2,{onClick:()=>Q("contact",c),children:[(0,d.jsx)(o.A,{className:"h-4 w-4 mr-2"}),"Contact Student"]}),(0,d.jsx)(i.mB,{}),!j&&(0,d.jsxs)(i._2,{onClick:()=>Q("dropout",c),className:"text-warning",children:[(0,d.jsx)(p.A,{className:"h-4 w-4 mr-2"}),"Mark as Dropout"]}),e&&(0,d.jsxs)(i._2,{onClick:()=>Q("delete",c),className:"text-destructive hover:bg-red-500 hover:text-white",children:[(0,d.jsx)(q,{className:"h-4 w-4 mr-2"}),"Delete Student"]})]})]})})};return A?{select:(0,d.jsx)("div",{onClick:a=>a.stopPropagation(),children:(0,d.jsx)(h.S,{checked:l,onCheckedChange:a=>y?.(c.id,!!a),"aria-label":`Select ${c.name}`})}),...r}:r}),columns:S,searchable:!1,filterable:!1})}),(0,d.jsx)(j.lG,{open:E,onOpenChange:F,children:(0,d.jsxs)(j.Cf,{children:[(0,d.jsxs)(j.c7,{children:[(0,d.jsxs)(j.L3,{className:"flex items-center gap-2",children:[(0,d.jsx)(r.A,{className:"h-5 w-5 text-destructive"}),"Delete Student"]}),(0,d.jsxs)(j.rr,{children:["Are you sure you want to delete ",M,"? This action cannot be undone."]})]}),(0,d.jsxs)(j.Es,{children:[(0,d.jsx)(f.$,{variant:"outline",onClick:()=>F(!1),children:"Cancel"}),(0,d.jsx)(f.$,{variant:"destructive",onClick:()=>{K&&(c(K),F(!1),L(null))},children:"Delete"})]})]})}),(0,d.jsx)(j.lG,{open:G,onOpenChange:H,children:(0,d.jsxs)(j.Cf,{children:[(0,d.jsxs)(j.c7,{children:[(0,d.jsxs)(j.L3,{className:"flex items-center gap-2",children:[(0,d.jsx)(p.A,{className:"h-5 w-5 text-warning"}),"Mark as Dropout"]}),(0,d.jsxs)(j.rr,{children:["Are you sure you want to mark ",M," as dropped out? Their progress data will be preserved."]})]}),(0,d.jsxs)(j.Es,{children:[(0,d.jsx)(f.$,{variant:"outline",onClick:()=>H(!1),children:"Cancel"}),(0,d.jsx)(f.$,{variant:"default",onClick:()=>{K&&(l(K),H(!1),L(null))},children:"Confirm"})]})]})}),(0,d.jsx)(j.lG,{open:I,onOpenChange:J,children:(0,d.jsxs)(j.Cf,{children:[(0,d.jsxs)(j.c7,{children:[(0,d.jsxs)(j.L3,{className:"flex items-center gap-2",children:[(0,d.jsx)(r.A,{className:"h-5 w-5 text-warning"}),"Confirm Batch Change"]}),(0,d.jsxs)(j.rr,{children:["Are you sure you want to change ",(0,d.jsx)("strong",{children:M}),"'s batch from"," ",(0,d.jsx)("strong",{children:O?.currentBatch||"Unassigned"})," to"," ",(0,d.jsx)("strong",{children:O?.newBatch||"Unassigned"}),"?",(0,d.jsx)("br",{}),(0,d.jsx)("br",{}),"This action will move the student to a different batch and may affect their progress tracking."]})]}),(0,d.jsxs)(j.Es,{children:[(0,d.jsx)(f.$,{variant:"outline",onClick:()=>J(!1),children:"Cancel"}),(0,d.jsx)(f.$,{onClick:()=>{O&&(w(O.studentId,O.newBatch),J(!1),P(null),N(""))},children:"Change Batch"})]})]})})]})}},40228:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(62688).A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},41312:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(62688).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},41550:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(62688).A)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},89667:(a,b,c)=>{c.d(b,{p:()=>g});var d=c(60687),e=c(43210),f=c(4780);let g=e.forwardRef(({className:a,type:b,...c},e)=>(0,d.jsx)("input",{type:b,className:(0,f.cn)("flex h-10 w-full rounded-md border border-input bg-card px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:e,...c}));g.displayName="Input"}};